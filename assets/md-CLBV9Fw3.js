import{_ as k}from"./slidev/CodeBlockWrapper.vue_vue_type_script_setup_true_lang-CqHBehly.js";import{o as d,c as p,k as a,e as i,ac as s,l as n,m as t,q as u,s as c,B as r}from"./modules/vue-C12uiUEh.js";import{I as g}from"./slidev/default-7TILS3OS.js";import{u as m,f as y}from"./slidev/context-CwiCxT4t.js";import"./modules/unplugin-icons-DJgmUv7V.js";import"./index-2AyV7bxw.js";import"./modules/shiki-BBIst5IO.js";const P={__name:"introSO.md__slidev_556",setup(A){const{$slidev:z,$nav:D,$clicksContext:o,$clicks:f,$page:v,$renderContext:B,$frontmatter:h}=m();return o.setup(),(C,e)=>{const l=k;return d(),p(g,u(c(r(y)(r(h),555))),{default:a(()=>[e[11]||(e[11]=i("p",null,"Ovviamente, ci sono molti più dettagli su come si accede ai dispositivi e su come i file system gestiscono i dati in modo persistente sopra detti dispositivi. Per motivi di prestazioni, la maggior parte dei file system ritarda tali scritture per un po’, sperando di raggrupparle in gruppi più grandi. Per gestire i problemi di crash del sistema durante le scritture, la maggior parte dei file system incorpora qualche tipo di protocollo di scrittura complesso, come il journaling o il copy-on-write, ordinando attentamente le scritture sul disco per garantire che, se si verifica un guasto durante la sequenza di scrittura, il sistema possa riprendersi a uno stato ragionevole successivamente. Per rendere efficienti diverse operazioni comuni, i file system impiegano molte strutture di dati e metodi di accesso diversi, dalle semplici liste ai complessi b-tree. Se tutto ciò non ha ancora senso, bene! Parleremo di tutto questo in modo molto più approfondito nella terza parte della persistenza, dove discuteremo dei dispositivi e dell’I/O in generale, e poi di dischi, RAID e file system in grande dettaglio.",-1)),e[12]||(e[12]=i("p",null,"Il file system è la parte del sistema operativo responsabile della gestione dei dati persistenti. Quali tecniche sono necessarie per farlo correttamente?",-1)),e[13]||(e[13]=i("p",null,"Quali meccanismi e politiche sono necessari per farlo con alte prestazioni?",-1)),e[14]||(e[14]=i("p",null,"Come viene ottenuta l’affidabilità, di fronte a guasti hardware e software?",-1)),e[15]||(e[15]=i("h3",null,"Tecniche necessarie per la corretta gestione dei dati persistenti:",-1)),e[16]||(e[16]=i("ol",null,[i("li",null,[i("strong",null,"Journaling"),s(": Consiste nel mantenere un registro delle operazioni da eseguire, permettendo di ripristinare il sistema in uno stato consistente dopo un crash.")]),i("li",null,[i("strong",null,"Copy-on-Write (COW)"),s(": Tecnica in cui i dati vengono copiati in una nuova posizione prima di essere modificati, garantendo che i dati originali rimangano intatti fino a quando la scrittura non è completa.")]),i("li",null,[i("strong",null,"Checkpointing"),s(": Salvataggio periodico dello stato del file system per facilitare il recupero in caso di guasto.")])],-1)),e[17]||(e[17]=i("h3",null,"Meccanismi e politiche per alte prestazioni",-1)),e[18]||(e[18]=i("ol",null,[i("li",null,[i("strong",null,"Caching"),s(": Memorizzazione temporanea dei dati frequentemente accessi per ridurre i tempi di accesso.")]),i("li",null,[i("strong",null,"Batching di Scritture"),s(": Accumulare le scritture per ridurre il numero di operazioni I/O.")]),i("li",null,[i("strong",null,"Data Striping"),s(": Distribuzione dei dati su più dischi per migliorare le prestazioni di lettura/scrittura.")]),i("li",null,[i("strong",null,"Accesso Diretto alla Memoria (DMA)"),s(": Utilizzo di DMA per trasferire dati direttamente tra memoria e disco senza coinvolgere la CPU, migliorando così l’efficienza.")])],-1)),e[19]||(e[19]=i("h3",null,"Affidabilità di fronte a guasti hardware e software",-1)),e[20]||(e[20]=i("ol",null,[i("li",null,[i("strong",null,"RAID (Redundant Array of Independent Disks)"),s(": Utilizzo di diverse configurazioni RAID per ridondanza e tolleranza ai guasti.")]),i("li",null,[i("strong",null,"Tecniche di Redundancy"),s(": Implementazione di tecniche come mirroring (duplicazione dei dati) e parity (informazioni di parità per il recupero dei dati).")]),i("li",null,[i("strong",null,"Controllo di Coerenza"),s(": Meccanismi per verificare e correggere l’integrità dei dati.")]),i("li",null,[i("strong",null,"Backup Regolari"),s(": Esecuzione di backup regolari per garantire il recupero dei dati in caso di perdita.")])],-1)),e[21]||(e[21]=i("p",null,"Questi argomenti verranno trattati in dettaglio nella terza parte del libro sulla persistenza, dove esploreremo dispositivi e I/O in generale, e successivamente dischi, RAID e file system in modo approfondito.",-1)),e[22]||(e[22]=i("h2",null,"Hello Multithreading",-1)),e[23]||(e[23]=i("p",null,[s("All’inizio del programma, viene dichiarato un array di tipo "),i("code",null,"pthread_t"),s(" chiamato "),i("code",null,"threads"),s(", la cui dimensione è determinata dalla costante "),i("code",null,"NUM_THREADS"),s(". Questo array è utilizzato per memorizzare gli identificatori dei thread che verranno creati. Inoltre, vengono dichiarate due variabili: "),i("code",null,"rc"),s(", che verrà utilizzata per memorizzare il codice di ritorno della funzione "),i("code",null,"pthread_create"),s(", e "),i("code",null,"t"),s(", che fungerà da contatore nel ciclo for.")],-1)),e[24]||(e[24]=i("p",null,[s("Il ciclo for itera da 0 fino a "),i("code",null,"NUM_THREADS - 1"),s(". Ad ogni iterazione, viene visualizzato un messaggio che indica la creazione di un nuovo thread, identificato dal valore corrente di "),i("code",null,"t"),s(". Successivamente, viene chiamata la funzione "),i("code",null,"pthread_create"),s(" per effettivamente creare il thread. Questa funzione prende quattro parametri: un puntatore all’elemento corrente dell’array "),i("code",null,"threads"),s(" (che memorizzerà l’identificatore del nuovo thread), un puntatore a "),i("code",null,"NULL"),s(" che specifica gli attributi predefiniti del thread, il nome della funzione che il thread eseguirà ("),i("code",null,"PrintHello"),s(" in questo caso), e un puntatore a "),i("code",null,"void"),s(" che passa un argomento alla funzione del thread. L’argomento passato è il valore corrente di "),i("code",null,"t"),s(", castato a "),i("code",null,"(void *)"),s(" per soddisfare la firma della funzione "),i("code",null,"pthread_create"),s(".")],-1)),e[25]||(e[25]=i("p",null,[s("Se la chiamata a "),i("code",null,"pthread_create"),s(" fallisce, restituirà un valore diverso da 0, che viene assegnato a "),i("code",null,"rc"),s(". Il codice controlla questo caso e, se si verifica un errore, stampa un messaggio di errore con il codice di ritorno e termina il programma chiamando "),i("code",null,"exit(-1)"),s(".")],-1)),e[26]||(e[26]=i("p",null,[s("Dopo aver creato tutti i thread, il programma chiama "),i("code",null,"pthread_exit(NULL)"),s(". Questa funzione termina il thread principale, ma lascia che gli altri thread continuino ad eseguire fino al loro completamento. È un modo per assicurarsi che il programma principale non termini prematuramente, terminando di conseguenza tutti i thread figli prima che abbiano la possibilità di completare la loro esecuzione.")],-1)),e[27]||(e[27]=i("p",null,"In sintesi, questo codice dimostra un modello base per la creazione e gestione di thread multipli in un programma C, utilizzando la libreria Pthreads.",-1)),e[28]||(e[28]=i("h1",null,"PrintHello",-1)),e[29]||(e[29]=i("p",null,[s("La funzione "),i("code",null,"PrintHello"),s(" è definita per essere utilizzata come funzione di esecuzione di un thread in un programma che utilizza la libreria Pthreads. Questa funzione dimostra un semplice esempio di come un thread può eseguire un compito specifico, in questo caso, stampare un messaggio sulla console.")],-1)),e[30]||(e[30]=i("p",null,[s("Il parametro "),i("code",null,"void *threadid"),s(" è un puntatore generico che permette di passare qualsiasi tipo di dato alla funzione. Questo è utile in contesti multithreading dove si desidera passare uno o più valori a un thread quando viene creato. Nell’esempio corrente, si presume che questo puntatore venga utilizzato per passare l’identificatore univoco del thread, anche se, in teoria, potrebbe essere utilizzato per passare qualsiasi tipo di dato.")],-1)),e[31]||(e[31]=i("p",null,[s("All’interno della funzione, il primo passo è convertire il puntatore "),i("code",null,"threadid"),s(" in un tipo "),i("code",null,"long"),s(". Questa conversione è necessaria perché il puntatore viene passato come un tipo generico ("),i("code",null,"void *"),s("), ma per stampare l’identificatore del thread si desidera utilizzare un tipo specifico che sia adatto alla funzione "),i("code",null,"printf"),s(". La conversione esplicita a "),i("code",null,"(long)"),s(" assicura che il valore possa essere stampato correttamente utilizzando il segnaposto "),i("code",null,"%ld"),s(" nella stringa di formato di "),i("code",null,"printf"),s(".")],-1)),e[32]||(e[32]=i("p",null,[s("La funzione "),i("code",null,"printf"),s(" viene quindi utilizzata per stampare un messaggio che include l’identificatore del thread. Questo dimostra come i thread possano eseguire operazioni di input/output e interagire con l’utente o con altre parti del programma.")],-1)),e[33]||(e[33]=i("p",null,[s("Infine, la funzione chiama "),i("code",null,"pthread_exit(NULL)"),s(". Questa chiamata termina esplicitamente il thread corrente, permettendo al thread di uscire pulitamente. Passando "),i("code",null,"NULL"),s(" come parametro, si indica che il thread termina senza restituire un valore specifico. Questo è un modo comune per gestire la terminazione dei thread in programmi che utilizzano Pthreads, assicurando che le risorse del thread vengano rilasciate correttamente e che il thread possa essere terminato senza influenzare l’esecuzione degli altri thread o del programma principale.")],-1)),e[34]||(e[34]=i("p",null,[s("In sintesi, "),i("code",null,"PrintHello"),s(" è un esempio di funzione di thread che dimostra le basi dell’esecuzione di thread, della gestione dei parametri e della terminazione pulita in un contesto multithreading con Pthreads.")],-1)),e[35]||(e[35]=i("h1",null,"Makefile",-1)),e[36]||(e[36]=i("p",null,"CC=gcc LFLAGS=-pthread",-1)),e[37]||(e[37]=i("p",null,'#Nota: versioni precedenti di PThreads utilizzavano #un flag differente ("-lpthread"). #LFLAGS=-lpthread',-1)),e[38]||(e[38]=i("p",null,"all: helloMT",-1)),e[39]||(e[39]=i("p",null,"helloMT: helloMT.c $(CC) $(LFLAGS) -o helloMT helloMT.c",-1)),e[40]||(e[40]=i("p",null,"clean: rm -f helloMT",-1)),e[41]||(e[41]=i("p",null,"Questo codice è un esempio di un file Makefile utilizzato per compilare un programma C che fa uso di thread, specificamente con la libreria POSIX Threads (Pthreads). Ecco una spiegazione dettagliata di ciascuna parte:",-1)),e[42]||(e[42]=i("ul",null,[i("li",null,[i("p",null,[i("code",null,"CC=gcc"),s(": Questa riga imposta la variabile "),i("code",null,"CC"),s(" sul compilatore GCC (GNU Compiler Collection), che verrà utilizzato per compilare il programma.")])]),i("li",null,[i("p",null,[i("code",null,"LFLAGS=-pthread"),s(": Imposta la variabile "),i("code",null,"LFLAGS"),s(" con l’opzione "),i("code",null,"-pthread"),s(". Questa opzione dice al compilatore di aggiungere il supporto per la libreria Pthreads. È importante notare che questa è l’opzione consigliata per abilitare il supporto ai thread in programmi che utilizzano Pthreads con compilatori moderni.")])]),i("li",null,[i("p",null,[i("code",null,"#LFLAGS=-lpthread"),s(": Questa riga è commentata e mostra un’alternativa più vecchia per abilitare il supporto ai thread, utilizzando il flag "),i("code",null,"-lpthread"),s(". In passato, questa era la modalità standard per collegare la libreria Pthreads, ma nelle versioni più recenti di GCC, "),i("code",null,"-pthread"),s(" è preferito sia per la compilazione che per il linking.")])]),i("li",null,[i("p",null,[i("code",null,"all: helloMT"),s(": Definisce un target chiamato "),i("code",null,"all"),s(", che dipende dal target "),i("code",null,"helloMT"),s(". Questo è un pattern comune nei Makefile, dove "),i("code",null,"all"),s(" è spesso il target predefinito che costruisce tutto ciò che è necessario per il progetto.")])]),i("li",null,[i("p",null,[i("code",null,"helloMT: helloMT.c"),s(": Questa riga definisce il target "),i("code",null,"helloMT"),s(", che dipende dal file sorgente ["),i("code",null,"helloMT.c"),s("]. La regola specifica che per costruire "),i("code",null,"helloMT"),s(", il Makefile deve eseguire il comando specificato nella riga successiva.")])]),i("li",null,[i("p",null,[i("code",null,"$(CC) $(LFLAGS) -o helloMT helloMT.c"),s(": Questo comando utilizza il compilatore specificato nella variabile "),i("code",null,"CC"),s(" (gcc), applica le opzioni di linking specificate in "),i("code",null,"LFLAGS"),s(" ("),i("code",null,"-pthread"),s("), e compila il file ["),i("code",null,"helloMT.c"),s("] in un eseguibile chiamato "),i("code",null,"helloMT"),s(".")])]),i("li",null,[i("p",null,[i("code",null,"clean:"),s(": Definisce un target chiamato "),i("code",null,"clean"),s(', che non dipende da nessun file. Questo target è comunemente utilizzato per rimuovere i file generati durante la compilazione, per "pulire" la directory di lavoro.')])]),i("li",null,[i("p",null,[i("code",null,"rm -f helloMT"),s(": Il comando eseguito dal target "),i("code",null,"clean"),s(", che rimuove l’eseguibile "),i("code",null,"helloMT"),s(", utilizzando "),i("code",null,"rm"),s(" (remove) con l’opzione "),i("code",null,"-f"),s(" per forzare la rimozione e ignorare eventuali errori se il file non esiste.")])])],-1)),e[43]||(e[43]=i("p",null,"In sintesi, questo Makefile fornisce un metodo semplice per compilare e pulire un programma C che utilizza Pthreads, mostrando anche un esempio di come le opzioni di compilazione e linking possono cambiare nel tempo.",-1)),e[44]||(e[44]=i("h1",null,"Compilare un programma utilizzando un Makefile,",-1)),e[45]||(e[45]=i("p",null,"Questi passaggi nel terminale:",-1)),e[46]||(e[46]=i("ol",null,[i("li",null,[i("p",null,[i("strong",null,"Apri il Terminale"),s(": Apri un terminale nel sistema operativo che stai utilizzando. Se sei su Linux o macOS, puoi aprire il terminale direttamente. Su Windows, potresti voler utilizzare il Prompt dei comandi (CMD) o PowerShell, oppure, se hai installato un sottosistema Linux per Windows (WSL), puoi usare anche quello.")])]),i("li",null,[i("p",null,[i("strong",null,"Naviga alla Directory del Progetto"),s(": Utilizza il comando "),i("code",null,"cd"),s(" (change directory) per navigare alla directory che contiene il tuo Makefile e il codice sorgente. Ad esempio:")]),i("pre",{class:"shiki shiki-themes vitesse-dark vitesse-light slidev-code",style:{"--shiki-dark":"#dbd7caee","--shiki-light":"#393a34","--shiki-dark-bg":"#121212","--shiki-light-bg":"#ffffff"}},[i("code",{class:"language-bash"},[i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#B8A965","--shiki-light":"#998418"}},"cd"),i("span",{style:{"--shiki-dark":"#C98A7D","--shiki-light":"#B56959"}}," /path/to/your/project")])])]),i("p",null,[s("Sostituisci "),i("code",null,"/path/to/your/project"),s(" con il percorso effettivo della tua directory del progetto.")])]),i("li",null,[i("p",null,[i("strong",null,"Esegui Make"),s(": Una volta nella directory corretta, esegui il comando "),i("code",null,"make"),s(" per avviare il processo di compilazione definito nel tuo Makefile. Se il tuo Makefile è configurato correttamente, questo comando compilerà il tuo programma seguendo le istruzioni specificate. Per esempio:")]),i("pre",{class:"shiki shiki-themes vitesse-dark vitesse-light slidev-code",style:{"--shiki-dark":"#dbd7caee","--shiki-light":"#393a34","--shiki-dark-bg":"#121212","--shiki-light-bg":"#ffffff"}},[i("code",{class:"language-bash"},[i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#80A665","--shiki-light":"#59873A"}},"make")])])]),i("p",null,[s("Questo comando cercherà un file chiamato "),i("code",null,"Makefile"),s(" nella directory corrente e eseguirà il primo target definito in esso, che di solito è il target "),i("code",null,"all"),s(". Per avviare "),i("code",null,"make"),s(" utilizzando un Makefile con un nome specifico diverso da "),i("code",null,"Makefile"),s(", puoi utilizzare l’opzione "),i("code",null,"-f"),s(" seguita dal nome del file. Se il tuo Makefile si chiama "),i("code",null,"helloMT.make"),s(", il comando da eseguire nel terminale sarà:")])])],-1)),n(l,t({},{ranges:[]}),{default:a(()=>e[0]||(e[0]=[i("pre",{class:"shiki shiki-themes vitesse-dark vitesse-light slidev-code",style:{"--shiki-dark":"#dbd7caee","--shiki-light":"#393a34","--shiki-dark-bg":"#121212","--shiki-light-bg":"#ffffff"}},[i("code",{class:"language-bash"},[i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#80A665","--shiki-light":"#59873A"}},"make"),i("span",{style:{"--shiki-dark":"#C99076","--shiki-light":"#A65E2B"}}," -f"),i("span",{style:{"--shiki-dark":"#C98A7D","--shiki-light":"#B56959"}}," helloMT.make")])])],-1)])),_:1},16),e[47]||(e[47]=i("ol",null,[i("li",null,[i("p",null,[i("strong",null,"Esegui il Programma Compilato"),s(": Se la compilazione è stata completata con successo, dovresti ora avere un eseguibile nel tuo progetto. Puoi eseguirlo direttamente dal terminale. Ad esempio, se il tuo eseguibile si chiama "),i("code",null,"helloMT"),s(", puoi eseguirlo con:")]),i("pre",{class:"shiki shiki-themes vitesse-dark vitesse-light slidev-code",style:{"--shiki-dark":"#dbd7caee","--shiki-light":"#393a34","--shiki-dark-bg":"#121212","--shiki-light-bg":"#ffffff"}},[i("code",{class:"language-bash"},[i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#80A665","--shiki-light":"#59873A"}},"./helloMT")])])])]),i("li",null,[i("p",null,[i("strong",null,"Pulizia (Opzionale)"),s(": Se il tuo Makefile include un target "),i("code",null,"clean"),s(" per rimuovere i file generati durante la compilazione, puoi eseguirlo con:")]),i("pre",{class:"shiki shiki-themes vitesse-dark vitesse-light slidev-code",style:{"--shiki-dark":"#dbd7caee","--shiki-light":"#393a34","--shiki-dark-bg":"#121212","--shiki-light-bg":"#ffffff"}},[i("code",{class:"language-bash"},[i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#80A665","--shiki-light":"#59873A"}},"make"),i("span",{style:{"--shiki-dark":"#C98A7D","--shiki-light":"#B56959"}}," clean")])])]),i("p",null,"Questo passaggio è utile per rimuovere gli eseguibili e altri file intermedi prima di una nuova compilazione o per mantenere pulita la directory del progetto.")])],-1)),e[48]||(e[48]=i("p",null,"Ricorda che i dettagli specifici su come compilare il tuo programma dipenderanno dalle istruzioni definite nel tuo Makefile.",-1)),e[49]||(e[49]=i("h2",null,"cosa fa effettivamente un sistema operativo",-1)),e[50]||(e[50]=i("p",null,"Ora hai un’idea di cosa fa effettivamente un sistema operativo: prende risorse fisiche, come CPU, memoria o disco, e le virtualizza. Gestisce questioni difficili e complicate relative alla concorrenza. E memorizza i file in modo persistente, rendendoli sicuri a lungo termine. Dato che vogliamo costruire un tale sistema, dobbiamo avere in mente alcuni obiettivi per aiutare a focalizzare la nostra progettazione e implementazione e fare compromessi quando necessario; trovare il giusto insieme di compromessi è la chiave per costruire sistemi.",-1)),e[51]||(e[51]=i("p",null,"Uno degli obiettivi più basilari è costruire delle astrazioni per rendere il sistema conveniente e facile da usare. Le astrazioni sono fondamentali per tutto ciò che facciamo in informatica. L’astrazione rende possibile scrivere un programma grande dividendolo in pezzi piccoli e comprensibili, scrivere un tale programma in un linguaggio di alto livello come il C senza pensare all’assembly, scrivere codice in assembly senza pensare ai circuiti logici, e costruire un processore partendo dai circuiti logici senza pensare troppo ai transistor. L’astrazione è così fondamentale che a volte dimentichiamo la sua importanza, ma non lo faremo qui; quindi, in ogni sezione, discuteremo alcune delle principali astrazioni che si sono sviluppate nel tempo, dandoti un modo per pensare ai pezzi del sistema operativo.",-1)),e[52]||(e[52]=i("p",null,"Un obiettivo nella progettazione e implementazione di un sistema operativo è fornire alte prestazioni; un altro modo di dire questo è che il nostro obiettivo è minimizzare gli overhead del sistema operativo. La virtualizzazione e rendere il sistema facile da usare sono obiettivi molto importanti, ma non a qualsiasi costo; quindi, dobbiamo sforzarci di fornire la virtualizzazione e altre funzionalità del sistema operativo senza eccessivi overhead. Questi overhead si manifestano in diverse forme: tempo extra (più istruzioni) e spazio extra (in memoria o su disco). Cercheremo soluzioni che minimizzino l’uno o l’altro, o entrambi, se possibile. Tuttavia, la perfezione non è sempre raggiungibile, qualcosa che impareremo a riconoscere e (dove appropriato) tollerare.",-1)),e[53]||(e[53]=i("p",null,"Un altro obiettivo sarà fornire protezione tra le applicazioni, così come tra il sistema operativo e le applicazioni. Poiché desideriamo consentire a molti programmi di funzionare contemporaneamente, vogliamo assicurarci che il comportamento dannoso o accidentale di uno non danneggi gli altri; certamente non vogliamo che un’applicazione sia in grado di danneggiare il sistema operativo stesso (poiché ciò influenzerebbe tutti i programmi in esecuzione sul sistema). La protezione è al centro di uno dei principali principi fondamentali di un sistema operativo, che è quello dell’isolamento; isolare i processi l’uno dall’altro è la chiave per la protezione e quindi sottende gran parte di ciò che un sistema operativo deve fare.",-1)),e[54]||(e[54]=i("p",null,"Il sistema operativo deve anche funzionare senza interruzioni; quando fallisce, tutte le applicazioni in esecuzione sul sistema falliscono anch’esse. A causa di questa dipendenza, i sistemi operativi spesso cercano di fornire un alto grado di affidabilità. Poiché i sistemi operativi diventano sempre più complessi (a volte contenenti milioni di linee di codice), costruire un sistema operativo affidabile è una grande sfida — e infatti, gran parte della ricerca in corso nel campo (incluso parte del nostro lavoro [BS+09, SS+10]) si concentra esattamente su questo problema.",-1)),e[55]||(e[55]=i("p",null,"Altri obiettivi hanno senso: l’efficienza energetica è importante nel nostro mondo sempre più ecologico; la sicurezza (un’estensione della protezione, in realtà) contro le applicazioni dannose è fondamentale, soprattutto in questi tempi altamente connessi; la mobilità è sempre più importante poiché i sistemi operativi vengono eseguiti su dispositivi sempre più piccoli. A seconda di come viene utilizzato il sistema, il sistema operativo avrà obiettivi diversi e quindi probabilmente sarà implementato in modi almeno leggermente diversi. Tuttavia, come vedremo, molti dei principi che presenteremo su come costruire un sistema operativo sono utili su una gamma di dispositivi diversi.",-1)),e[56]||(e[56]=i("h2",null,"COMPITI",-1)),e[57]||(e[57]=i("p",null,"La maggior parte (e alla fine, tutti) i capitoli di questo libro hanno sezioni di compiti a fine capitolo. Fare questi compiti è importante, poiché ciascuno consente a te, lettore, di acquisire maggiore esperienza con i concetti presentati nel capitolo.",-1)),e[58]||(e[58]=i("p",null,"Ci sono due tipi di compiti. Il primo è basato sulla simulazione. Una simulazione di un sistema informatico è solo un semplice programma che finge di fare alcune delle parti interessanti di ciò che fa un sistema reale, e poi riporta alcune metriche di output per mostrare come si comporta il sistema. Ad esempio, un simulatore di disco rigido potrebbe prendere una serie di richieste, simulare quanto tempo impiegherebbero per essere elaborate da un disco rigido con determinate caratteristiche di prestazioni e poi riportare la latenza media delle richieste.",-1)),e[59]||(e[59]=i("p",null,"La cosa interessante delle simulazioni è che ti permettono di esplorare facilmente come si comportano i sistemi senza la difficoltà di far funzionare un sistema reale. In effetti, ti permettono persino di creare sistemi che non possono esistere nel mondo reale (ad esempio, un disco rigido con prestazioni incredibilmente veloci) e quindi vedere l’impatto potenziale delle tecnologie future.",-1)),e[60]||(e[60]=i("p",null,"Ovviamente, le simulazioni non sono prive di svantaggi. Per loro stessa natura, le simulazioni sono solo approssimazioni di come si comporta un sistema reale. Se un aspetto importante del comportamento del mondo reale viene omesso, la simulazione riporterà risultati errati. Pertanto, i risultati di una simulazione dovrebbero sempre essere trattati con un po’ di sospetto. Alla fine, ciò che conta è come si comporta un sistema nel mondo reale.",-1)),e[61]||(e[61]=i("p",null,[s("Il secondo tipo di compito richiede l’interazione con codice reale. Alcuni di questi compiti sono focalizzati sulla misurazione, mentre altri richiedono solo un piccolo sviluppo e sperimentazione su piccola scala. Entrambi sono solo piccole incursioni nel mondo più grande in cui dovresti entrare, ovvero come scrivere codice di sistema in C su sistemi basati su UNIX. In effetti, sono necessari progetti su larga scala, che vanno oltre questi compiti, per spingerti in questa direzione; quindi, oltre a fare i compiti, ti raccomandiamo fortemente di fare progetti per consolidare le tue abilità di sistema. Consulta questa pagina ("),i("a",{href:"https://github.com/remzi-arpacidusseau/ostep-projects",target:"_blank"},"https://github.com/remzi-arpacidusseau/ostep-projects"),s(") per alcuni progetti.")],-1)),e[62]||(e[62]=i("p",null,"Per fare questi compiti, probabilmente dovrai essere su una macchina basata su UNIX, eseguendo Linux, macOS o un sistema simile. Dovrebbe anche avere un compilatore C installato (ad esempio, gcc) così come Python. Dovresti anche sapere come modificare il codice in un vero editor di codice di qualche tipo.",-1)),e[63]||(e[63]=i("h1",null,"LETTORI-SCRITTORI",-1)),e[64]||(e[64]=i("p",null,"Il problema di sincronizzare lettori e scrittori in C è un classico problema di concorrenza che si verifica quando più processi (lettori e scrittori) accedono contemporaneamente a una risorsa condivisa (come una variabile, una struttura dati, un file, ecc.). L’obiettivo è garantire la coerenza dei dati e prevenire condizioni di race e inconsistenze nel caso in cui un lettore e uno scrittore tentino di accedere alla risorsa simultaneamente.",-1)),e[65]||(e[65]=i("p",null,"Ecco una panoramica del problema di sincronizzazione tra lettori e scrittori in C:",-1)),e[66]||(e[66]=i("ul",null,[i("li",null,[i("p",null,[i("strong",null,"Lettori"),s(":")]),i("ul",null,[i("li",null,"I lettori possono accedere alla risorsa condivisa contemporaneamente per la lettura."),i("li",null,"Più lettori possono leggere i dati contemporaneamente senza causare problemi di coerenza."),i("li",null,"Tuttavia, i lettori non devono leggere i dati mentre un processo scrittore sta scrivendo sulla risorsa.")])]),i("li",null,[i("p",null,[i("strong",null,"Scrittori"),s(":")]),i("ul",null,[i("li",null,"Gli scrittori richiedono un accesso esclusivo alla risorsa condivisa per la scrittura."),i("li",null,"Un processo scrittore deve essere l’unico ad accedere alla risorsa durante la scrittura e deve bloccare l’accesso ai lettori durante questo periodo."),i("li",null,"Gli scrittori devono attendere fino a quando tutti i lettori attivi non hanno completato la lettura prima di poter scrivere.")])])],-1)),e[67]||(e[67]=i("p",null,[s("Il problema di sincronizzare lettori e scrittori in C richiede una corretta gestione della concorrenza per garantire che i lettori e gli scrittori accedano alla risorsa condivisa in modo sicuro ed efficiente, evitando condizioni di "),i("code",null,"race, deadlock e starvation"),s(" (concetti fondamentali nella programmazione concorrente e nella gestione delle risorse condivise).")],-1)),e[68]||(e[68]=i("p",null,[s("Per risolvere questo problema, sono necessari meccanismi di sincronizzazione come "),i("code",null,"semafori, mutex, variabili di condizione"),s(" o altre tecniche per coordinare l’accesso dei lettori e degli scrittori alla risorsa condivisa in modo coerente e robusto.")],-1)),e[69]||(e[69]=i("h1",null,"Condizione di Race:",-1)),e[70]||(e[70]=i("ul",null,[i("li",null,"Una condizione di race si verifica quando il comportamento di un programma dipende dall’ordine di esecuzione delle istruzioni, che può variare a seconda di come vengono schedulate le attività da parte del sistema operativo."),i("li",null,"In una condizione di race, due o più processi concorrenti possono accedere e modificare una risorsa condivisa in modo non deterministico, portando a risultati imprevedibili o incorretti."),i("li",null,"Le condizioni di race possono causare problemi come letture inconsistenti, scritture sovrascritte, valori errati o comportamenti non definiti nel programma.")],-1)),e[71]||(e[71]=i("p",null,"Modificare una risorsa condivisa in modo non deterministico cosa significa in dettaglio:",-1)),e[72]||(e[72]=i("ul",null,[i("li",null,[i("p",null,[i("strong",null,"Non deterministico"),s(":")]),i("ul",null,[i("li",null,[i("p",null,"In informatica, un’operazione o un processo è deterministico se produce sempre lo stesso risultato quando viene eseguito con le stesse condizioni iniziali.")]),i("li",null,[i("p",null,"Al contrario, un’operazione non deterministica è un’operazione la cui esecuzione può portare a risultati diversi in base a fattori esterni o casuali.")])])]),i("li",null,[i("p",null,[i("strong",null,"Modifica di una risorsa condivisa"),s(":")]),i("ul",null,[i("li",null,"Quando più processi concorrenti modificano una risorsa condivisa, ad esempio una variabile o una struttura dati, senza una corretta sincronizzazione, possono verificarsi situazioni in cui le modifiche non avvengono in modo prevedibile.")])]),i("li",null,[i("p",null,[i("strong",null,[s("Esempio "),i("code",null,"helloRace.c")]),s(":")]),i("ul",null,[i("li",null,"Supponiamo che due processi stiano leggendo e aggiornando il valore di una variabile condivisa. Se entrambi i processi leggono il valore corrente contemporaneamente e tentano di aggiornarlo senza una sincronizzazione adeguata, potrebbe verificarsi una condizione di race."),i("li",null,'In questo scenario, il risultato finale dipenderà dall’ordine in cui vengono eseguite le operaziprintf("oni di lettura e scrittura da parte dei due processi, portando a un comportamento non deterministico e imprevedibile.')])])],-1)),e[73]||(e[73]=i("p",null,"In sintesi, modificare una risorsa condivisa in modo non deterministico significa che il risultato delle operazioni di accesso e modifica della risorsa non può essere previsto con certezza a causa della concorrenza e della mancanza di sincronizzazione tra i processi che accedono ad essa. Questo può portare a problemi di coerenza dei dati, letture inconsistente e comportamenti imprevisti nel programma.",-1)),e[74]||(e[74]=i("p",null,"Un esempio classico di condizione di race (race condition) si verifica quando due o più thread accedono in modo concorrente a una risorsa condivisa e almeno uno di questi accessi è una scrittura. Senza una sincronizzazione adeguata, l’ordine degli accessi può portare a risultati inaspettati e difficili da prevedere.",-1)),e[75]||(e[75]=i("p",null,"Ecco un semplice esempio in C che dimostra una condizione di race. Il programma crea due thread che incrementano concorrentemente una variabile condivisa senza meccanismi di sincronizzazione come mutex o semafori.",-1)),e[76]||(e[76]=i("p",null,[i("strong",null,"Passaggi:")],-1)),e[77]||(e[77]=i("ol",null,[i("li",null,"Includere i file di intestazione necessari."),i("li",null,"Definire una variabile globale condivisa."),i("li",null,"Definire la funzione che sarà eseguita dai thread, la quale incrementa la variabile condivisa."),i("li",null,[s("Nel "),i("code",null,"main"),s(", creare i thread e attendere che terminino.")]),i("li",null,"Stampare il valore finale della variabile condivisa.")],-1)),e[78]||(e[78]=i("p",null,[i("strong",null,"Codice:")],-1)),n(l,t({},{ranges:[]}),{default:a(()=>e[1]||(e[1]=[i("pre",{class:"shiki shiki-themes vitesse-dark vitesse-light slidev-code",style:{"--shiki-dark":"#dbd7caee","--shiki-light":"#393a34","--shiki-dark-bg":"#121212","--shiki-light-bg":"#ffffff"}},[i("code",{class:"language-c"},[i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},"#"),i("span",{style:{"--shiki-dark":"#4D9375","--shiki-light":"#1E754F"}},"include"),i("span",{style:{"--shiki-dark":"#C98A7D77","--shiki-light":"#B5695977"}}," <"),i("span",{style:{"--shiki-dark":"#C98A7D","--shiki-light":"#B56959"}},"pthread.h"),i("span",{style:{"--shiki-dark":"#C98A7D77","--shiki-light":"#B5695977"}},">")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},"#"),i("span",{style:{"--shiki-dark":"#4D9375","--shiki-light":"#1E754F"}},"include"),i("span",{style:{"--shiki-dark":"#C98A7D77","--shiki-light":"#B5695977"}}," <"),i("span",{style:{"--shiki-dark":"#C98A7D","--shiki-light":"#B56959"}},"stdio.h"),i("span",{style:{"--shiki-dark":"#C98A7D77","--shiki-light":"#B5695977"}},">")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},"#"),i("span",{style:{"--shiki-dark":"#4D9375","--shiki-light":"#1E754F"}},"include"),i("span",{style:{"--shiki-dark":"#C98A7D77","--shiki-light":"#B5695977"}}," <"),i("span",{style:{"--shiki-dark":"#C98A7D","--shiki-light":"#B56959"}},"stdlib.h"),i("span",{style:{"--shiki-dark":"#C98A7D77","--shiki-light":"#B5695977"}},">")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#CB7676","--shiki-light":"#AB5959"}},"int"),i("span",{style:{"--shiki-dark":"#DBD7CAEE","--shiki-light":"#393A34"}}," counter "),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},"="),i("span",{style:{"--shiki-dark":"#4C9A91","--shiki-light":"#2F798A"}}," 0"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},";"),i("span",{style:{"--shiki-dark":"#758575DD","--shiki-light":"#A0ADA0"}}," // Variabile condivisa")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#CB7676","--shiki-light":"#AB5959"}},"void"),i("span",{style:{"--shiki-dark":"#CB7676","--shiki-light":"#AB5959"}}," *"),i("span",{style:{"--shiki-dark":"#80A665","--shiki-light":"#59873A"}},"incrementCounter"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},"("),i("span",{style:{"--shiki-dark":"#CB7676","--shiki-light":"#AB5959"}},"void"),i("span",{style:{"--shiki-dark":"#CB7676","--shiki-light":"#AB5959"}}," *"),i("span",{style:{"--shiki-dark":"#BD976A","--shiki-light":"#B07D48"}},"threadid"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},")"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}}," {")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#CB7676","--shiki-light":"#AB5959"}},"    int"),i("span",{style:{"--shiki-dark":"#DBD7CAEE","--shiki-light":"#393A34"}}," i"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},";")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#4D9375","--shiki-light":"#1E754F"}},"    for"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},"("),i("span",{style:{"--shiki-dark":"#DBD7CAEE","--shiki-light":"#393A34"}},"i "),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},"="),i("span",{style:{"--shiki-dark":"#4C9A91","--shiki-light":"#2F798A"}}," 0"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},";"),i("span",{style:{"--shiki-dark":"#DBD7CAEE","--shiki-light":"#393A34"}}," i "),i("span",{style:{"--shiki-dark":"#CB7676","--shiki-light":"#AB5959"}},"<"),i("span",{style:{"--shiki-dark":"#4C9A91","--shiki-light":"#2F798A"}}," 100000"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},";"),i("span",{style:{"--shiki-dark":"#DBD7CAEE","--shiki-light":"#393A34"}}," i"),i("span",{style:{"--shiki-dark":"#CB7676","--shiki-light":"#AB5959"}},"++"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},")"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}}," {")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#DBD7CAEE","--shiki-light":"#393A34"}},"        counter"),i("span",{style:{"--shiki-dark":"#CB7676","--shiki-light":"#AB5959"}},"++"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},";"),i("span",{style:{"--shiki-dark":"#758575DD","--shiki-light":"#A0ADA0"}}," // Incrementa la variabile condivisa")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},"    }")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#80A665","--shiki-light":"#59873A"}},"    pthread_exit"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},"("),i("span",{style:{"--shiki-dark":"#4D9375","--shiki-light":"#1E754F"}},"NULL"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},");")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},"}")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#CB7676","--shiki-light":"#AB5959"}},"int"),i("span",{style:{"--shiki-dark":"#80A665","--shiki-light":"#59873A"}}," main"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},"()"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}}," {")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#CB7676","--shiki-light":"#AB5959"}},"    pthread_t"),i("span",{style:{"--shiki-dark":"#BD976A","--shiki-light":"#B07D48"}}," threads"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},"["),i("span",{style:{"--shiki-dark":"#4C9A91","--shiki-light":"#2F798A"}},"2"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},"];")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#CB7676","--shiki-light":"#AB5959"}},"    int"),i("span",{style:{"--shiki-dark":"#DBD7CAEE","--shiki-light":"#393A34"}}," rc"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},";")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#CB7676","--shiki-light":"#AB5959"}},"    long"),i("span",{style:{"--shiki-dark":"#DBD7CAEE","--shiki-light":"#393A34"}}," t"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},";")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#4D9375","--shiki-light":"#1E754F"}},"    for"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},"("),i("span",{style:{"--shiki-dark":"#DBD7CAEE","--shiki-light":"#393A34"}},"t "),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},"="),i("span",{style:{"--shiki-dark":"#4C9A91","--shiki-light":"#2F798A"}}," 0"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},";"),i("span",{style:{"--shiki-dark":"#DBD7CAEE","--shiki-light":"#393A34"}}," t "),i("span",{style:{"--shiki-dark":"#CB7676","--shiki-light":"#AB5959"}},"<"),i("span",{style:{"--shiki-dark":"#4C9A91","--shiki-light":"#2F798A"}}," 2"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},";"),i("span",{style:{"--shiki-dark":"#DBD7CAEE","--shiki-light":"#393A34"}}," t"),i("span",{style:{"--shiki-dark":"#CB7676","--shiki-light":"#AB5959"}},"++"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},")"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}}," {")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#80A665","--shiki-light":"#59873A"}},"        printf"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},"("),i("span",{style:{"--shiki-dark":"#C98A7D77","--shiki-light":"#B5695977"}},'"'),i("span",{style:{"--shiki-dark":"#C98A7D","--shiki-light":"#B56959"}},"Creazione del thread "),i("span",{style:{"--shiki-dark":"#C99076","--shiki-light":"#A65E2B"}},"%ld\\n"),i("span",{style:{"--shiki-dark":"#C98A7D77","--shiki-light":"#B5695977"}},'"'),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},","),i("span",{style:{"--shiki-dark":"#DBD7CAEE","--shiki-light":"#393A34"}}," t"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},");")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#DBD7CAEE","--shiki-light":"#393A34"}},"        rc "),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},"="),i("span",{style:{"--shiki-dark":"#80A665","--shiki-light":"#59873A"}}," pthread_create"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},"("),i("span",{style:{"--shiki-dark":"#CB7676","--shiki-light":"#AB5959"}},"&"),i("span",{style:{"--shiki-dark":"#BD976A","--shiki-light":"#B07D48"}},"threads"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},"["),i("span",{style:{"--shiki-dark":"#DBD7CAEE","--shiki-light":"#393A34"}},"t"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},"],"),i("span",{style:{"--shiki-dark":"#4D9375","--shiki-light":"#1E754F"}}," NULL"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},","),i("span",{style:{"--shiki-dark":"#DBD7CAEE","--shiki-light":"#393A34"}}," incrementCounter"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},","),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}}," ("),i("span",{style:{"--shiki-dark":"#CB7676","--shiki-light":"#AB5959"}},"void"),i("span",{style:{"--shiki-dark":"#CB7676","--shiki-light":"#AB5959"}}," *"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},")"),i("span",{style:{"--shiki-dark":"#DBD7CAEE","--shiki-light":"#393A34"}},"t"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},");")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#4D9375","--shiki-light":"#1E754F"}},"        if"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}}," ("),i("span",{style:{"--shiki-dark":"#DBD7CAEE","--shiki-light":"#393A34"}},"rc"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},")"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}}," {")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#80A665","--shiki-light":"#59873A"}},"            printf"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},"("),i("span",{style:{"--shiki-dark":"#C98A7D77","--shiki-light":"#B5695977"}},'"'),i("span",{style:{"--shiki-dark":"#C98A7D","--shiki-light":"#B56959"}},"ERRORE; codice di ritorno da pthread_create() è "),i("span",{style:{"--shiki-dark":"#C99076","--shiki-light":"#A65E2B"}},"%d\\n"),i("span",{style:{"--shiki-dark":"#C98A7D77","--shiki-light":"#B5695977"}},'"'),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},","),i("span",{style:{"--shiki-dark":"#DBD7CAEE","--shiki-light":"#393A34"}}," rc"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},");")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#80A665","--shiki-light":"#59873A"}},"            exit"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},"("),i("span",{style:{"--shiki-dark":"#CB7676","--shiki-light":"#AB5959"}},"-"),i("span",{style:{"--shiki-dark":"#4C9A91","--shiki-light":"#2F798A"}},"1"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},");")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},"        }")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},"    }")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#758575DD","--shiki-light":"#A0ADA0"}},"    // Attendere che i thread abbiano terminato")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#4D9375","--shiki-light":"#1E754F"}},"    for"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},"("),i("span",{style:{"--shiki-dark":"#DBD7CAEE","--shiki-light":"#393A34"}},"t "),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},"="),i("span",{style:{"--shiki-dark":"#4C9A91","--shiki-light":"#2F798A"}}," 0"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},";"),i("span",{style:{"--shiki-dark":"#DBD7CAEE","--shiki-light":"#393A34"}}," t "),i("span",{style:{"--shiki-dark":"#CB7676","--shiki-light":"#AB5959"}},"<"),i("span",{style:{"--shiki-dark":"#4C9A91","--shiki-light":"#2F798A"}}," 2"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},";"),i("span",{style:{"--shiki-dark":"#DBD7CAEE","--shiki-light":"#393A34"}}," t"),i("span",{style:{"--shiki-dark":"#CB7676","--shiki-light":"#AB5959"}},"++"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},")"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}}," {")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#80A665","--shiki-light":"#59873A"}},"        pthread_join"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},"("),i("span",{style:{"--shiki-dark":"#BD976A","--shiki-light":"#B07D48"}},"threads"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},"["),i("span",{style:{"--shiki-dark":"#DBD7CAEE","--shiki-light":"#393A34"}},"t"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},"],"),i("span",{style:{"--shiki-dark":"#4D9375","--shiki-light":"#1E754F"}}," NULL"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},");")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},"    }")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#80A665","--shiki-light":"#59873A"}},"    printf"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},"("),i("span",{style:{"--shiki-dark":"#C98A7D77","--shiki-light":"#B5695977"}},'"'),i("span",{style:{"--shiki-dark":"#C98A7D","--shiki-light":"#B56959"}},"Valore finale di counter = "),i("span",{style:{"--shiki-dark":"#C99076","--shiki-light":"#A65E2B"}},"%d\\n"),i("span",{style:{"--shiki-dark":"#C98A7D77","--shiki-light":"#B5695977"}},'"'),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},","),i("span",{style:{"--shiki-dark":"#DBD7CAEE","--shiki-light":"#393A34"}}," counter"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},");")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#80A665","--shiki-light":"#59873A"}},"    pthread_exit"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},"("),i("span",{style:{"--shiki-dark":"#4D9375","--shiki-light":"#1E754F"}},"NULL"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},");")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},"}")])])],-1)])),_:1},16),e[79]||(e[79]=i("h1",null,"Soluzioni alla Condizione di Race:",-1)),e[80]||(e[80]=i("p",null,"I semafori e i mutex sono entrambi strumenti utilizzati per la gestione della concorrenza e la sincronizzazione tra processi o thread in un ambiente multitasking. Tuttavia, presentano alcune differenze chiave nel loro funzionamento e nell’utilizzo.",-1)),e[81]||(e[81]=i("ul",null,[i("li",null,[i("p",null,[i("strong",null,"Mutex (Mutual Exclusion)"),s(":")]),i("ul",null,[i("li",null,[i("strong",null,"Scopo"),s(": I mutex vengono utilizzati per garantire l’accesso esclusivo a una risorsa condivisa tra diversi processi o thread.")]),i("li",null,[i("strong",null,"Stato"),s(": Possono essere in uno dei due stati: bloccato o sbloccato. Un mutex bloccato indica che la risorsa è in uso, impedendo ad altri processi o thread di accedervi finché non viene rilasciato.")]),i("li",null,[i("strong",null,"Utilizzo"),s(": Un mutex è progettato per essere posseduto da un solo processo o thread alla volta.")]),i("li",null,[i("strong",null,"Semplicità"),s(": I mutex sono più leggeri e più efficienti dei semafori quando si tratta di garantire l’accesso esclusivo a una risorsa.")])])]),i("li",null,[i("p",null,[i("strong",null,"Semafori"),s(":")]),i("ul",null,[i("li",null,[i("strong",null,"Scopo"),s(": I semafori possono essere utilizzati per sincronizzare l’accesso a risorse condivise e per gestire la cooperazione tra processi o thread.")]),i("li",null,[i("strong",null,"Valore"),s(": Un semaforo può avere un valore intero non negativo e viene utilizzato per controllare l’accesso concorrente a una risorsa.")]),i("li",null,[i("strong",null,"Operazioni"),s(": Le operazioni principali sui semafori includono "),i("code",null,"wait"),s(" (P) e "),i("code",null,"signal"),s(" (V) per bloccare e sbloccare il semaforo rispettivamente.")]),i("li",null,[i("strong",null,"Più flessibilità"),s(": I semafori offrono una maggiore flessibilità rispetto ai mutex, consentendo di implementare diverse politiche di sincronizzazione.")])])]),i("li",null,[i("p",null,[i("strong",null,"Differenze"),s(":")]),i("ul",null,[i("li",null,"I mutex sono più adatti per garantire l’accesso esclusivo a una risorsa, mentre i semafori sono più flessibili e possono essere utilizzati per implementare diverse strategie di sincronizzazione."),i("li",null,"I mutex sono progettati per il possesso esclusivo da parte di un singolo processo o thread, mentre i semafori possono essere acquisiti e rilasciati da più processi contemporaneamente."),i("li",null,"I mutex sono tipicamente più leggeri e più efficienti rispetto ai semafori, ma offrono una funzionalità più limitata.")])])],-1)),e[82]||(e[82]=i("p",null,"In sintesi, mentre i mutex sono ideali per garantire l’accesso esclusivo a una risorsa condivisa, i semafori offrono una maggiore flessibilità e possono essere utilizzati per una varietà di scenari di sincronizzazione e cooperazione tra processi o thread. La scelta tra mutex e semafori dipende dalle esigenze specifiche dell’applicazione e dal tipo di sincronizzazione richiesta.",-1)),e[83]||(e[83]=i("h2",null,"Usiamo i Mutex",-1)),e[84]||(e[84]=i("p",null,[s("Per risolvere il problema della race condition nel codice, possiamo utilizzare un mutex per garantire l’accesso esclusivo alla variabile condivisa "),i("code",null,"counter"),s(" durante la sua modifica. Ecco i passaggi per implementare questa soluzione:")],-1)),e[85]||(e[85]=i("ol",null,[i("li",null,"Inizializzare un mutex globalmente."),i("li",null,[s("Bloccare il mutex prima di incrementare la variabile "),i("code",null,"counter"),s(" nella funzione "),i("code",null,"incrementCounter"),s(".")]),i("li",null,[s("Sbloccare il mutex dopo aver incrementato la variabile "),i("code",null,"counter"),s(".")]),i("li",null,[s("Distruggere il mutex nella funzione "),i("code",null,"main"),s(" dopo aver atteso la terminazione di tutti i thread.")])],-1)),e[86]||(e[86]=i("p",null,"Ecco il codice modificato:",-1)),n(l,t({},{ranges:[]}),{default:a(()=>e[2]||(e[2]=[i("pre",{class:"shiki shiki-themes vitesse-dark vitesse-light slidev-code",style:{"--shiki-dark":"#dbd7caee","--shiki-light":"#393a34","--shiki-dark-bg":"#121212","--shiki-light-bg":"#ffffff"}},[i("code",{class:"language-c"},[i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},"#"),i("span",{style:{"--shiki-dark":"#4D9375","--shiki-light":"#1E754F"}},"include"),i("span",{style:{"--shiki-dark":"#C98A7D77","--shiki-light":"#B5695977"}}," <"),i("span",{style:{"--shiki-dark":"#C98A7D","--shiki-light":"#B56959"}},"pthread.h"),i("span",{style:{"--shiki-dark":"#C98A7D77","--shiki-light":"#B5695977"}},">")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},"#"),i("span",{style:{"--shiki-dark":"#4D9375","--shiki-light":"#1E754F"}},"include"),i("span",{style:{"--shiki-dark":"#C98A7D77","--shiki-light":"#B5695977"}}," <"),i("span",{style:{"--shiki-dark":"#C98A7D","--shiki-light":"#B56959"}},"stdio.h"),i("span",{style:{"--shiki-dark":"#C98A7D77","--shiki-light":"#B5695977"}},">")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},"#"),i("span",{style:{"--shiki-dark":"#4D9375","--shiki-light":"#1E754F"}},"include"),i("span",{style:{"--shiki-dark":"#C98A7D77","--shiki-light":"#B5695977"}}," <"),i("span",{style:{"--shiki-dark":"#C98A7D","--shiki-light":"#B56959"}},"stdlib.h"),i("span",{style:{"--shiki-dark":"#C98A7D77","--shiki-light":"#B5695977"}},">")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#CB7676","--shiki-light":"#AB5959"}},"int"),i("span",{style:{"--shiki-dark":"#DBD7CAEE","--shiki-light":"#393A34"}}," counter "),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},"="),i("span",{style:{"--shiki-dark":"#4C9A91","--shiki-light":"#2F798A"}}," 0"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},";"),i("span",{style:{"--shiki-dark":"#758575DD","--shiki-light":"#A0ADA0"}}," // Variabile condivisa")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#CB7676","--shiki-light":"#AB5959"}},"pthread_mutex_t"),i("span",{style:{"--shiki-dark":"#DBD7CAEE","--shiki-light":"#393A34"}}," lock"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},";"),i("span",{style:{"--shiki-dark":"#758575DD","--shiki-light":"#A0ADA0"}}," // Mutex per controllare l'accesso a `counter`")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#CB7676","--shiki-light":"#AB5959"}},"void"),i("span",{style:{"--shiki-dark":"#CB7676","--shiki-light":"#AB5959"}}," *"),i("span",{style:{"--shiki-dark":"#80A665","--shiki-light":"#59873A"}},"incrementCounter"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},"("),i("span",{style:{"--shiki-dark":"#CB7676","--shiki-light":"#AB5959"}},"void"),i("span",{style:{"--shiki-dark":"#CB7676","--shiki-light":"#AB5959"}}," *"),i("span",{style:{"--shiki-dark":"#BD976A","--shiki-light":"#B07D48"}},"threadid"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},")"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}}," {")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#CB7676","--shiki-light":"#AB5959"}},"    int"),i("span",{style:{"--shiki-dark":"#DBD7CAEE","--shiki-light":"#393A34"}}," i"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},";")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#4D9375","--shiki-light":"#1E754F"}},"    for"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},"("),i("span",{style:{"--shiki-dark":"#DBD7CAEE","--shiki-light":"#393A34"}},"i "),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},"="),i("span",{style:{"--shiki-dark":"#4C9A91","--shiki-light":"#2F798A"}}," 0"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},";"),i("span",{style:{"--shiki-dark":"#DBD7CAEE","--shiki-light":"#393A34"}}," i "),i("span",{style:{"--shiki-dark":"#CB7676","--shiki-light":"#AB5959"}},"<"),i("span",{style:{"--shiki-dark":"#4C9A91","--shiki-light":"#2F798A"}}," 100000"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},";"),i("span",{style:{"--shiki-dark":"#DBD7CAEE","--shiki-light":"#393A34"}}," i"),i("span",{style:{"--shiki-dark":"#CB7676","--shiki-light":"#AB5959"}},"++"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},")"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}}," {")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#80A665","--shiki-light":"#59873A"}},"        pthread_mutex_lock"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},"("),i("span",{style:{"--shiki-dark":"#CB7676","--shiki-light":"#AB5959"}},"&"),i("span",{style:{"--shiki-dark":"#DBD7CAEE","--shiki-light":"#393A34"}},"lock"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},");"),i("span",{style:{"--shiki-dark":"#758575DD","--shiki-light":"#A0ADA0"}}," // Blocca il mutex")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#DBD7CAEE","--shiki-light":"#393A34"}},"        counter"),i("span",{style:{"--shiki-dark":"#CB7676","--shiki-light":"#AB5959"}},"++"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},";"),i("span",{style:{"--shiki-dark":"#758575DD","--shiki-light":"#A0ADA0"}}," // Incrementa la variabile condivisa")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#80A665","--shiki-light":"#59873A"}},"        pthread_mutex_unlock"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},"("),i("span",{style:{"--shiki-dark":"#CB7676","--shiki-light":"#AB5959"}},"&"),i("span",{style:{"--shiki-dark":"#DBD7CAEE","--shiki-light":"#393A34"}},"lock"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},");"),i("span",{style:{"--shiki-dark":"#758575DD","--shiki-light":"#A0ADA0"}}," // Sblocca il mutex")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},"    }")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#80A665","--shiki-light":"#59873A"}},"    pthread_exit"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},"("),i("span",{style:{"--shiki-dark":"#4D9375","--shiki-light":"#1E754F"}},"NULL"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},");")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},"}")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#CB7676","--shiki-light":"#AB5959"}},"int"),i("span",{style:{"--shiki-dark":"#80A665","--shiki-light":"#59873A"}}," main"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},"()"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}}," {")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#CB7676","--shiki-light":"#AB5959"}},"    pthread_t"),i("span",{style:{"--shiki-dark":"#BD976A","--shiki-light":"#B07D48"}}," threads"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},"["),i("span",{style:{"--shiki-dark":"#4C9A91","--shiki-light":"#2F798A"}},"2"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},"];")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#CB7676","--shiki-light":"#AB5959"}},"    int"),i("span",{style:{"--shiki-dark":"#DBD7CAEE","--shiki-light":"#393A34"}}," rc"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},";")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#CB7676","--shiki-light":"#AB5959"}},"    long"),i("span",{style:{"--shiki-dark":"#DBD7CAEE","--shiki-light":"#393A34"}}," t"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},";")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#758575DD","--shiki-light":"#A0ADA0"}},"    // Inizializza il mutex")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#4D9375","--shiki-light":"#1E754F"}},"    if"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}}," ("),i("span",{style:{"--shiki-dark":"#80A665","--shiki-light":"#59873A"}},"pthread_mutex_init"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},"("),i("span",{style:{"--shiki-dark":"#CB7676","--shiki-light":"#AB5959"}},"&"),i("span",{style:{"--shiki-dark":"#DBD7CAEE","--shiki-light":"#393A34"}},"lock"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},","),i("span",{style:{"--shiki-dark":"#4D9375","--shiki-light":"#1E754F"}}," NULL"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},")"),i("span",{style:{"--shiki-dark":"#CB7676","--shiki-light":"#AB5959"}}," !="),i("span",{style:{"--shiki-dark":"#4C9A91","--shiki-light":"#2F798A"}}," 0"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},")"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}}," {")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#80A665","--shiki-light":"#59873A"}},"        printf"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},"("),i("span",{style:{"--shiki-dark":"#C98A7D77","--shiki-light":"#B5695977"}},'"'),i("span",{style:{"--shiki-dark":"#C98A7D","--shiki-light":"#B56959"}},"Inizializzazione del mutex fallita"),i("span",{style:{"--shiki-dark":"#C99076","--shiki-light":"#A65E2B"}},"\\n"),i("span",{style:{"--shiki-dark":"#C98A7D77","--shiki-light":"#B5695977"}},'"'),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},");")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#4D9375","--shiki-light":"#1E754F"}},"        return"),i("span",{style:{"--shiki-dark":"#4C9A91","--shiki-light":"#2F798A"}}," 1"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},";")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},"    }")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#4D9375","--shiki-light":"#1E754F"}},"    for"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},"("),i("span",{style:{"--shiki-dark":"#DBD7CAEE","--shiki-light":"#393A34"}},"t "),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},"="),i("span",{style:{"--shiki-dark":"#4C9A91","--shiki-light":"#2F798A"}}," 0"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},";"),i("span",{style:{"--shiki-dark":"#DBD7CAEE","--shiki-light":"#393A34"}}," t "),i("span",{style:{"--shiki-dark":"#CB7676","--shiki-light":"#AB5959"}},"<"),i("span",{style:{"--shiki-dark":"#4C9A91","--shiki-light":"#2F798A"}}," 2"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},";"),i("span",{style:{"--shiki-dark":"#DBD7CAEE","--shiki-light":"#393A34"}}," t"),i("span",{style:{"--shiki-dark":"#CB7676","--shiki-light":"#AB5959"}},"++"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},")"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}}," {")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#80A665","--shiki-light":"#59873A"}},"        printf"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},"("),i("span",{style:{"--shiki-dark":"#C98A7D77","--shiki-light":"#B5695977"}},'"'),i("span",{style:{"--shiki-dark":"#C98A7D","--shiki-light":"#B56959"}},"Creazione del thread "),i("span",{style:{"--shiki-dark":"#C99076","--shiki-light":"#A65E2B"}},"%ld\\n"),i("span",{style:{"--shiki-dark":"#C98A7D77","--shiki-light":"#B5695977"}},'"'),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},","),i("span",{style:{"--shiki-dark":"#DBD7CAEE","--shiki-light":"#393A34"}}," t"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},");")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#DBD7CAEE","--shiki-light":"#393A34"}},"        rc "),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},"="),i("span",{style:{"--shiki-dark":"#80A665","--shiki-light":"#59873A"}}," pthread_create"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},"("),i("span",{style:{"--shiki-dark":"#CB7676","--shiki-light":"#AB5959"}},"&"),i("span",{style:{"--shiki-dark":"#BD976A","--shiki-light":"#B07D48"}},"threads"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},"["),i("span",{style:{"--shiki-dark":"#DBD7CAEE","--shiki-light":"#393A34"}},"t"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},"],"),i("span",{style:{"--shiki-dark":"#4D9375","--shiki-light":"#1E754F"}}," NULL"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},","),i("span",{style:{"--shiki-dark":"#DBD7CAEE","--shiki-light":"#393A34"}}," incrementCounter"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},","),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}}," ("),i("span",{style:{"--shiki-dark":"#CB7676","--shiki-light":"#AB5959"}},"void"),i("span",{style:{"--shiki-dark":"#CB7676","--shiki-light":"#AB5959"}}," *"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},")"),i("span",{style:{"--shiki-dark":"#DBD7CAEE","--shiki-light":"#393A34"}},"t"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},");")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#4D9375","--shiki-light":"#1E754F"}},"        if"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}}," ("),i("span",{style:{"--shiki-dark":"#DBD7CAEE","--shiki-light":"#393A34"}},"rc"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},")"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}}," {")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#80A665","--shiki-light":"#59873A"}},"            printf"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},"("),i("span",{style:{"--shiki-dark":"#C98A7D77","--shiki-light":"#B5695977"}},'"'),i("span",{style:{"--shiki-dark":"#C98A7D","--shiki-light":"#B56959"}},"ERRORE; codice di ritorno da pthread_create() è "),i("span",{style:{"--shiki-dark":"#C99076","--shiki-light":"#A65E2B"}},"%d\\n"),i("span",{style:{"--shiki-dark":"#C98A7D77","--shiki-light":"#B5695977"}},'"'),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},","),i("span",{style:{"--shiki-dark":"#DBD7CAEE","--shiki-light":"#393A34"}}," rc"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},");")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#80A665","--shiki-light":"#59873A"}},"            exit"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},"("),i("span",{style:{"--shiki-dark":"#CB7676","--shiki-light":"#AB5959"}},"-"),i("span",{style:{"--shiki-dark":"#4C9A91","--shiki-light":"#2F798A"}},"1"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},");")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},"        }")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},"    }")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#758575DD","--shiki-light":"#A0ADA0"}},"    // Attendere che i thread abbiano terminato")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#4D9375","--shiki-light":"#1E754F"}},"    for"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},"("),i("span",{style:{"--shiki-dark":"#DBD7CAEE","--shiki-light":"#393A34"}},"t "),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},"="),i("span",{style:{"--shiki-dark":"#4C9A91","--shiki-light":"#2F798A"}}," 0"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},";"),i("span",{style:{"--shiki-dark":"#DBD7CAEE","--shiki-light":"#393A34"}}," t "),i("span",{style:{"--shiki-dark":"#CB7676","--shiki-light":"#AB5959"}},"<"),i("span",{style:{"--shiki-dark":"#4C9A91","--shiki-light":"#2F798A"}}," 2"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},";"),i("span",{style:{"--shiki-dark":"#DBD7CAEE","--shiki-light":"#393A34"}}," t"),i("span",{style:{"--shiki-dark":"#CB7676","--shiki-light":"#AB5959"}},"++"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},")"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}}," {")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#80A665","--shiki-light":"#59873A"}},"        pthread_join"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},"("),i("span",{style:{"--shiki-dark":"#BD976A","--shiki-light":"#B07D48"}},"threads"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},"["),i("span",{style:{"--shiki-dark":"#DBD7CAEE","--shiki-light":"#393A34"}},"t"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},"],"),i("span",{style:{"--shiki-dark":"#4D9375","--shiki-light":"#1E754F"}}," NULL"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},");")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},"    }")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#80A665","--shiki-light":"#59873A"}},"    printf"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},"("),i("span",{style:{"--shiki-dark":"#C98A7D77","--shiki-light":"#B5695977"}},'"'),i("span",{style:{"--shiki-dark":"#C98A7D","--shiki-light":"#B56959"}},"Valore finale di counter = "),i("span",{style:{"--shiki-dark":"#C99076","--shiki-light":"#A65E2B"}},"%d\\n"),i("span",{style:{"--shiki-dark":"#C98A7D77","--shiki-light":"#B5695977"}},'"'),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},","),i("span",{style:{"--shiki-dark":"#DBD7CAEE","--shiki-light":"#393A34"}}," counter"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},");")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#758575DD","--shiki-light":"#A0ADA0"}},"    // Distruggi il mutex")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#80A665","--shiki-light":"#59873A"}},"    pthread_mutex_destroy"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},"("),i("span",{style:{"--shiki-dark":"#CB7676","--shiki-light":"#AB5959"}},"&"),i("span",{style:{"--shiki-dark":"#DBD7CAEE","--shiki-light":"#393A34"}},"lock"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},");")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#80A665","--shiki-light":"#59873A"}},"    pthread_exit"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},"("),i("span",{style:{"--shiki-dark":"#4D9375","--shiki-light":"#1E754F"}},"NULL"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},");")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},"}")])])],-1)])),_:1},16),e[87]||(e[87]=i("p",null,[s("Con queste modifiche, l’accesso alla variabile "),i("code",null,"counter"),s(" è sincronizzato tra i thread, prevenendo così la race condition e garantendo che il valore finale di "),i("code",null,"counter"),s(" sia corretto dopo l’esecuzione di tutti i thread.")],-1)),e[88]||(e[88]=i("h2",null,"Uso dei smefori",-1)),e[89]||(e[89]=i("p",null,"Per risolvere problemi di sincronizzazione tra thread, come la condizione di race, i semafori possono essere utilizzati efficacemente. Un semaforo è un tipo di variabile che viene utilizzata per controllare l’accesso a una risorsa comune da parte di più thread in un ambiente di programmazione concorrente.",-1)),e[90]||(e[90]=i("p",null,"Ecco un esempio di come utilizzare un semaforo in C per risolvere una condizione di race incrementando una variabile condivisa. Questo esempio utilizza la libreria POSIX Threads (Pthreads) e i semafori POSIX.",-1)),e[91]||(e[91]=i("p",null,[i("strong",null,"Passaggi:")],-1)),e[92]||(e[92]=i("ol",null,[i("li",null,"Includere i file di intestazione necessari."),i("li",null,"Inizializzare un semaforo."),i("li",null,"Definire una variabile globale condivisa."),i("li",null,"Definire la funzione che sarà eseguita dai thread, la quale incrementa la variabile condivisa utilizzando il semaforo per sincronizzare l’accesso."),i("li",null,[s("Nel "),i("code",null,"main"),s(", inizializzare il semaforo, creare i thread, attendere che terminino, e poi distruggere il semaforo.")]),i("li",null,"Stampare il valore finale della variabile condivisa.")],-1)),e[93]||(e[93]=i("p",null,[i("strong",null,"Codice:")],-1)),n(l,t({},{ranges:[]}),{default:a(()=>e[3]||(e[3]=[i("pre",{class:"shiki shiki-themes vitesse-dark vitesse-light slidev-code",style:{"--shiki-dark":"#dbd7caee","--shiki-light":"#393a34","--shiki-dark-bg":"#121212","--shiki-light-bg":"#ffffff"}},[i("code",{class:"language-c"},[i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},"#"),i("span",{style:{"--shiki-dark":"#4D9375","--shiki-light":"#1E754F"}},"include"),i("span",{style:{"--shiki-dark":"#C98A7D77","--shiki-light":"#B5695977"}}," <"),i("span",{style:{"--shiki-dark":"#C98A7D","--shiki-light":"#B56959"}},"pthread.h"),i("span",{style:{"--shiki-dark":"#C98A7D77","--shiki-light":"#B5695977"}},">")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},"#"),i("span",{style:{"--shiki-dark":"#4D9375","--shiki-light":"#1E754F"}},"include"),i("span",{style:{"--shiki-dark":"#C98A7D77","--shiki-light":"#B5695977"}}," <"),i("span",{style:{"--shiki-dark":"#C98A7D","--shiki-light":"#B56959"}},"stdio.h"),i("span",{style:{"--shiki-dark":"#C98A7D77","--shiki-light":"#B5695977"}},">")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},"#"),i("span",{style:{"--shiki-dark":"#4D9375","--shiki-light":"#1E754F"}},"include"),i("span",{style:{"--shiki-dark":"#C98A7D77","--shiki-light":"#B5695977"}}," <"),i("span",{style:{"--shiki-dark":"#C98A7D","--shiki-light":"#B56959"}},"stdlib.h"),i("span",{style:{"--shiki-dark":"#C98A7D77","--shiki-light":"#B5695977"}},">")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},"#"),i("span",{style:{"--shiki-dark":"#4D9375","--shiki-light":"#1E754F"}},"include"),i("span",{style:{"--shiki-dark":"#C98A7D77","--shiki-light":"#B5695977"}}," <"),i("span",{style:{"--shiki-dark":"#C98A7D","--shiki-light":"#B56959"}},"semaphore.h"),i("span",{style:{"--shiki-dark":"#C98A7D77","--shiki-light":"#B5695977"}},">")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#CB7676","--shiki-light":"#AB5959"}},"int"),i("span",{style:{"--shiki-dark":"#DBD7CAEE","--shiki-light":"#393A34"}}," counter "),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},"="),i("span",{style:{"--shiki-dark":"#4C9A91","--shiki-light":"#2F798A"}}," 0"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},";"),i("span",{style:{"--shiki-dark":"#758575DD","--shiki-light":"#A0ADA0"}}," // Variabile condivisa")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#B8A965","--shiki-light":"#998418"}},"sem_t"),i("span",{style:{"--shiki-dark":"#DBD7CAEE","--shiki-light":"#393A34"}}," sem"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},";"),i("span",{style:{"--shiki-dark":"#758575DD","--shiki-light":"#A0ADA0"}}," // Semaforo")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#CB7676","--shiki-light":"#AB5959"}},"void"),i("span",{style:{"--shiki-dark":"#CB7676","--shiki-light":"#AB5959"}}," *"),i("span",{style:{"--shiki-dark":"#80A665","--shiki-light":"#59873A"}},"incrementCounter"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},"("),i("span",{style:{"--shiki-dark":"#CB7676","--shiki-light":"#AB5959"}},"void"),i("span",{style:{"--shiki-dark":"#CB7676","--shiki-light":"#AB5959"}}," *"),i("span",{style:{"--shiki-dark":"#BD976A","--shiki-light":"#B07D48"}},"threadid"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},")"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}}," {")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#CB7676","--shiki-light":"#AB5959"}},"    int"),i("span",{style:{"--shiki-dark":"#DBD7CAEE","--shiki-light":"#393A34"}}," i"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},";")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#4D9375","--shiki-light":"#1E754F"}},"    for"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},"("),i("span",{style:{"--shiki-dark":"#DBD7CAEE","--shiki-light":"#393A34"}},"i "),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},"="),i("span",{style:{"--shiki-dark":"#4C9A91","--shiki-light":"#2F798A"}}," 0"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},";"),i("span",{style:{"--shiki-dark":"#DBD7CAEE","--shiki-light":"#393A34"}}," i "),i("span",{style:{"--shiki-dark":"#CB7676","--shiki-light":"#AB5959"}},"<"),i("span",{style:{"--shiki-dark":"#4C9A91","--shiki-light":"#2F798A"}}," 100000"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},";"),i("span",{style:{"--shiki-dark":"#DBD7CAEE","--shiki-light":"#393A34"}}," i"),i("span",{style:{"--shiki-dark":"#CB7676","--shiki-light":"#AB5959"}},"++"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},")"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}}," {")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#80A665","--shiki-light":"#59873A"}},"        sem_wait"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},"("),i("span",{style:{"--shiki-dark":"#CB7676","--shiki-light":"#AB5959"}},"&"),i("span",{style:{"--shiki-dark":"#DBD7CAEE","--shiki-light":"#393A34"}},"sem"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},");"),i("span",{style:{"--shiki-dark":"#758575DD","--shiki-light":"#A0ADA0"}}," // Decrementa il semaforo (blocca se è 0)")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#DBD7CAEE","--shiki-light":"#393A34"}},"        counter"),i("span",{style:{"--shiki-dark":"#CB7676","--shiki-light":"#AB5959"}},"++"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},";"),i("span",{style:{"--shiki-dark":"#758575DD","--shiki-light":"#A0ADA0"}}," // Incrementa la variabile condivisa")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#80A665","--shiki-light":"#59873A"}},"        sem_post"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},"("),i("span",{style:{"--shiki-dark":"#CB7676","--shiki-light":"#AB5959"}},"&"),i("span",{style:{"--shiki-dark":"#DBD7CAEE","--shiki-light":"#393A34"}},"sem"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},");"),i("span",{style:{"--shiki-dark":"#758575DD","--shiki-light":"#A0ADA0"}}," // Incrementa il semaforo (sblocca un altro thread)")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},"    }")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#80A665","--shiki-light":"#59873A"}},"    pthread_exit"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},"("),i("span",{style:{"--shiki-dark":"#4D9375","--shiki-light":"#1E754F"}},"NULL"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},");")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},"}")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#CB7676","--shiki-light":"#AB5959"}},"int"),i("span",{style:{"--shiki-dark":"#80A665","--shiki-light":"#59873A"}}," main"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},"()"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}}," {")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#CB7676","--shiki-light":"#AB5959"}},"    pthread_t"),i("span",{style:{"--shiki-dark":"#BD976A","--shiki-light":"#B07D48"}}," threads"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},"["),i("span",{style:{"--shiki-dark":"#4C9A91","--shiki-light":"#2F798A"}},"2"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},"];")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#CB7676","--shiki-light":"#AB5959"}},"    int"),i("span",{style:{"--shiki-dark":"#DBD7CAEE","--shiki-light":"#393A34"}}," rc"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},";")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#CB7676","--shiki-light":"#AB5959"}},"    long"),i("span",{style:{"--shiki-dark":"#DBD7CAEE","--shiki-light":"#393A34"}}," t"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},";")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#758575DD","--shiki-light":"#A0ADA0"}},"    // Inizializza il semaforo")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#80A665","--shiki-light":"#59873A"}},"    sem_init"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},"("),i("span",{style:{"--shiki-dark":"#CB7676","--shiki-light":"#AB5959"}},"&"),i("span",{style:{"--shiki-dark":"#DBD7CAEE","--shiki-light":"#393A34"}},"sem"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},","),i("span",{style:{"--shiki-dark":"#4C9A91","--shiki-light":"#2F798A"}}," 0"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},","),i("span",{style:{"--shiki-dark":"#4C9A91","--shiki-light":"#2F798A"}}," 1"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},");"),i("span",{style:{"--shiki-dark":"#758575DD","--shiki-light":"#A0ADA0"}}," // 0 per semaforo tra thread, 1 è il valore iniziale")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#4D9375","--shiki-light":"#1E754F"}},"    for"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},"("),i("span",{style:{"--shiki-dark":"#DBD7CAEE","--shiki-light":"#393A34"}},"t "),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},"="),i("span",{style:{"--shiki-dark":"#4C9A91","--shiki-light":"#2F798A"}}," 0"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},";"),i("span",{style:{"--shiki-dark":"#DBD7CAEE","--shiki-light":"#393A34"}}," t "),i("span",{style:{"--shiki-dark":"#CB7676","--shiki-light":"#AB5959"}},"<"),i("span",{style:{"--shiki-dark":"#4C9A91","--shiki-light":"#2F798A"}}," 2"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},";"),i("span",{style:{"--shiki-dark":"#DBD7CAEE","--shiki-light":"#393A34"}}," t"),i("span",{style:{"--shiki-dark":"#CB7676","--shiki-light":"#AB5959"}},"++"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},")"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}}," {")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#80A665","--shiki-light":"#59873A"}},"        printf"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},"("),i("span",{style:{"--shiki-dark":"#C98A7D77","--shiki-light":"#B5695977"}},'"'),i("span",{style:{"--shiki-dark":"#C98A7D","--shiki-light":"#B56959"}},"Creazione del thread "),i("span",{style:{"--shiki-dark":"#C99076","--shiki-light":"#A65E2B"}},"%ld\\n"),i("span",{style:{"--shiki-dark":"#C98A7D77","--shiki-light":"#B5695977"}},'"'),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},","),i("span",{style:{"--shiki-dark":"#DBD7CAEE","--shiki-light":"#393A34"}}," t"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},");")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#DBD7CAEE","--shiki-light":"#393A34"}},"        rc "),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},"="),i("span",{style:{"--shiki-dark":"#80A665","--shiki-light":"#59873A"}}," pthread_create"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},"("),i("span",{style:{"--shiki-dark":"#CB7676","--shiki-light":"#AB5959"}},"&"),i("span",{style:{"--shiki-dark":"#BD976A","--shiki-light":"#B07D48"}},"threads"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},"["),i("span",{style:{"--shiki-dark":"#DBD7CAEE","--shiki-light":"#393A34"}},"t"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},"],"),i("span",{style:{"--shiki-dark":"#4D9375","--shiki-light":"#1E754F"}}," NULL"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},","),i("span",{style:{"--shiki-dark":"#DBD7CAEE","--shiki-light":"#393A34"}}," incrementCounter"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},","),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}}," ("),i("span",{style:{"--shiki-dark":"#CB7676","--shiki-light":"#AB5959"}},"void"),i("span",{style:{"--shiki-dark":"#CB7676","--shiki-light":"#AB5959"}}," *"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},")"),i("span",{style:{"--shiki-dark":"#DBD7CAEE","--shiki-light":"#393A34"}},"t"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},");")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#4D9375","--shiki-light":"#1E754F"}},"        if"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}}," ("),i("span",{style:{"--shiki-dark":"#DBD7CAEE","--shiki-light":"#393A34"}},"rc"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},")"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}}," {")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#80A665","--shiki-light":"#59873A"}},"            printf"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},"("),i("span",{style:{"--shiki-dark":"#C98A7D77","--shiki-light":"#B5695977"}},'"'),i("span",{style:{"--shiki-dark":"#C98A7D","--shiki-light":"#B56959"}},"ERRORE; codice di ritorno da pthread_create() è "),i("span",{style:{"--shiki-dark":"#C99076","--shiki-light":"#A65E2B"}},"%d\\n"),i("span",{style:{"--shiki-dark":"#C98A7D77","--shiki-light":"#B5695977"}},'"'),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},","),i("span",{style:{"--shiki-dark":"#DBD7CAEE","--shiki-light":"#393A34"}}," rc"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},");")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#80A665","--shiki-light":"#59873A"}},"            exit"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},"("),i("span",{style:{"--shiki-dark":"#CB7676","--shiki-light":"#AB5959"}},"-"),i("span",{style:{"--shiki-dark":"#4C9A91","--shiki-light":"#2F798A"}},"1"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},");")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},"        }")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},"    }")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#758575DD","--shiki-light":"#A0ADA0"}},"    // Attendere che i thread abbiano terminato")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#4D9375","--shiki-light":"#1E754F"}},"    for"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},"("),i("span",{style:{"--shiki-dark":"#DBD7CAEE","--shiki-light":"#393A34"}},"t "),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},"="),i("span",{style:{"--shiki-dark":"#4C9A91","--shiki-light":"#2F798A"}}," 0"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},";"),i("span",{style:{"--shiki-dark":"#DBD7CAEE","--shiki-light":"#393A34"}}," t "),i("span",{style:{"--shiki-dark":"#CB7676","--shiki-light":"#AB5959"}},"<"),i("span",{style:{"--shiki-dark":"#4C9A91","--shiki-light":"#2F798A"}}," 2"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},";"),i("span",{style:{"--shiki-dark":"#DBD7CAEE","--shiki-light":"#393A34"}}," t"),i("span",{style:{"--shiki-dark":"#CB7676","--shiki-light":"#AB5959"}},"++"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},")"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}}," {")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#80A665","--shiki-light":"#59873A"}},"        pthread_join"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},"("),i("span",{style:{"--shiki-dark":"#BD976A","--shiki-light":"#B07D48"}},"threads"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},"["),i("span",{style:{"--shiki-dark":"#DBD7CAEE","--shiki-light":"#393A34"}},"t"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},"],"),i("span",{style:{"--shiki-dark":"#4D9375","--shiki-light":"#1E754F"}}," NULL"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},");")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},"    }")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#80A665","--shiki-light":"#59873A"}},"    printf"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},"("),i("span",{style:{"--shiki-dark":"#C98A7D77","--shiki-light":"#B5695977"}},'"'),i("span",{style:{"--shiki-dark":"#C98A7D","--shiki-light":"#B56959"}},"Valore finale di counter = "),i("span",{style:{"--shiki-dark":"#C99076","--shiki-light":"#A65E2B"}},"%d\\n"),i("span",{style:{"--shiki-dark":"#C98A7D77","--shiki-light":"#B5695977"}},'"'),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},","),i("span",{style:{"--shiki-dark":"#DBD7CAEE","--shiki-light":"#393A34"}}," counter"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},");")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#758575DD","--shiki-light":"#A0ADA0"}},"    // Distruggi il semaforo")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#80A665","--shiki-light":"#59873A"}},"    sem_destroy"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},"("),i("span",{style:{"--shiki-dark":"#CB7676","--shiki-light":"#AB5959"}},"&"),i("span",{style:{"--shiki-dark":"#DBD7CAEE","--shiki-light":"#393A34"}},"sem"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},");")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#80A665","--shiki-light":"#59873A"}},"    pthread_exit"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},"("),i("span",{style:{"--shiki-dark":"#4D9375","--shiki-light":"#1E754F"}},"NULL"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},");")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},"}")])])],-1)])),_:1},16),e[94]||(e[94]=i("p",null,[i("strong",null,"Note:")],-1)),e[95]||(e[95]=i("ul",null,[i("li",null,[i("code",null,"sem_init"),s(" inizializza il semaforo. Il secondo parametro "),i("code",null,"0"),s(" indica che il semaforo è condiviso tra i thread dello stesso processo. Il terzo parametro è il valore iniziale del semaforo.")]),i("li",null,[i("code",null,"sem_wait"),s(" decrementa (blocca) il semaforo. Se il valore del semaforo è zero, il thread chiama "),i("code",null,"sem_wait"),s(" verrà bloccato fino a quando il semaforo non verrà incrementato.")]),i("li",null,[i("code",null,"sem_post"),s(" incrementa (sblocca) il semaforo, permettendo ad altri thread bloccati di procedere.")]),i("li",null,[i("code",null,"sem_destroy"),s(" distrugge il semaforo una volta che non è più necessario.")])],-1)),e[96]||(e[96]=i("p",null,[s("Questo approccio garantisce che solo un thread per volta possa incrementare la variabile "),i("code",null,"counter"),s(", eliminando la condizione di race.")],-1)),e[97]||(e[97]=i("p",null,"I semafori POSIX sono un tipo di semaforo utilizzato nei sistemi operativi basati su standard POSIX (Portable Operating System Interface). I semafori POSIX forniscono un meccanismo per la sincronizzazione e la gestione della concorrenza tra processi o thread all’interno di un sistema operativo. Ecco alcune caratteristiche e concetti chiave relativi ai semafori POSIX:",-1)),e[98]||(e[98]=i("h1",null,"Semafori POSIX",-1)),e[99]||(e[99]=i("ul",null,[i("li",null,[i("p",null,"I semafori POSIX sono associati a un nome univoco nel sistema operativo, consentendo a processi o thread diversi di accedere allo stesso semaforo per la sincronizzazione.")]),i("li",null,[i("p",null,"Possono essere utilizzati per la gestione di risorse condivise, la prevenzione delle race condition e la sincronizzazione tra processi che cooperano tra loro.")])],-1)),e[100]||(e[100]=i("h2",null,"Operazioni sui semafori",-1)),e[101]||(e[101]=i("p",null,[s("Le operazioni principali che possono essere eseguite sui semafori POSIX includono: - "),i("code",null,"sem_open"),s(": Per creare o aprire un semaforo con un nome specifico. - "),i("code",null,"sem_wait"),s(" (o "),i("code",null,"sem_wait"),s("): Per bloccare il processo o il thread fino a quando il semaforo non diventa - **disponibile. - "),i("code",null,"sem_post"),s(" (o "),i("code",null,"sem_signal"),s("): Per sbloccare il semaforo dopo che è stato utilizzato. - "),i("code",null,"sem_close"),s(": Per chiudere il semaforo dopo averlo utilizzato. - "),i("code",null,"sem_unlink"),s(": Per rimuovere il semaforo dal sistema.")],-1)),e[102]||(e[102]=i("h2",null,"Tipi di semafori",-1)),e[103]||(e[103]=i("p",null,"I semafori POSIX possono essere di due tipi principali:",-1)),e[104]||(e[104]=i("ul",null,[i("li",null,[i("strong",null,"Semafori non nominati"),s(": Sono associati a variabili di tipo "),i("code",null,"sem_t"),s(" e sono utilizzati localmente all’interno di un processo.")])],-1)),e[105]||(e[105]=i("p",null,[s("La variabile "),i("code",null,"sem_t"),s(" è un tipo di dato definito dalla libreria POSIX Semaphores. Viene utilizzata per rappresentare un semaforo in un programma C. Un semaforo è un meccanismo di sincronizzazione che può essere utilizzato per controllare l’accesso a una risorsa condivisa da parte di più thread o processi in un ambiente di programmazione concorrente.")],-1)),e[106]||(e[106]=i("p",null,[s("Nel contesto del frammento di codice fornito, "),i("code",null,"sem_t sem;"),s(" dichiara una variabile di tipo "),i("code",null,"sem_t"),s(", che viene utilizzata per sincronizzare l’accesso alla variabile condivisa "),i("code",null,"counter"),s(" tra i thread. Questo è particolarmente utile per prevenire condizioni di race, dove l’ordine non deterministico degli accessi alla risorsa condivisa può portare a risultati imprevedibili o errati.")],-1)),e[107]||(e[107]=i("p",null,[s("**Funzioni principali associate a "),i("code",null,"sem_t")],-1)),e[108]||(e[108]=i("ul",null,[i("li",null,[i("p",null,[i("strong",null,[i("code",null,"sem_init(sem_t *sem, int pshared, unsigned int value)"),s(":")]),s(" Inizializza il semaforo puntato da "),i("code",null,"sem"),s(" con un valore iniziale specificato da "),i("code",null,"value"),s(". Il parametro "),i("code",null,"pshared"),s(" determina se il semaforo deve essere condiviso tra i thread di un processo ("),i("code",null,"pshared = 0"),s(") o tra processi ("),i("code",null,"pshared != 0"),s(").")])]),i("li",null,[i("p",null,[i("strong",null,[i("code",null,"sem_wait(sem_t *sem)"),s(":")]),s(" Decrementa (blocca) il semaforo puntato da ["),i("code",null,"sem"),s("]. Se il valore del semaforo è maggiore di zero, il valore viene decrementato e la funzione ritorna immediatamente.")])])],-1)),e[109]||(e[109]=i("p",null,[s("Se il valore è zero, il thread chiama "),i("code",null,"sem_wait"),s(" viene bloccato fino a quando il semaforo non viene incrementato da un altro thread o processo.")],-1)),e[110]||(e[110]=i("ul",null,[i("li",null,[i("p",null,[i("strong",null,[i("code",null,"sem_post(sem_t *sem)"),s(":")]),s(" Incrementa (sblocca) il semaforo puntato da "),i("code",null,"sem"),s(". Se altri thread sono bloccati in attesa del semaforo, sblocca uno di questi thread.")])]),i("li",null,[i("p",null,[i("strong",null,[i("code",null,"sem_destroy(sem_t *sem)"),s(":")]),s(" Distrugge il semaforo puntato da "),i("code",null,"sem"),s(", liberando le risorse associate. Dopo la chiamata a "),i("code",null,"sem_destroy"),s(", il semaforo non può più essere utilizzato fino a una successiva inizializzazione.")])])],-1)),e[111]||(e[111]=i("p",null,[s("L’uso di "),i("code",null,"sem_t"),s(" e delle relative funzioni permette di implementare sezioni critiche nel codice, garantendo che solo un thread per volta possa eseguire determinate operazioni su risorse condivise, prevenendo così condizioni di race e garantendo la correttezza del programma in ambienti concorrenti.")],-1)),e[112]||(e[112]=i("ul",null,[i("li",null,[i("p",null,[i("strong",null,"Semafori nominati"),s(": Sono associati a un nome nel sistema operativo e possono essere utilizzati per la sincronizzazione tra processi diversi.")])]),i("li",null,[i("p",null,[i("strong",null,"Gestione degli errori"),s(":")]),i("ul",null,[i("li",null,"Le chiamate di sistema che coinvolgono i semafori POSIX restituiscono valori che indicano lo stato di operazioni come la creazione, l’apertura, il blocco e lo sblocco dei semafori. È importante gestire correttamente questi valori di ritorno per la gestione degli errori.")])])],-1)),e[113]||(e[113]=i("p",null,"I semafori POSIX sono uno strumento potente per la gestione della concorrenza nei sistemi operativi e consentono ai programmatori di sviluppare applicazioni concorrenti sicure e efficienti. La corretta gestione dei semafori POSIX può aiutare a prevenire condizioni di race, deadlock e starvation, migliorando la robustezza e le prestazioni del software concorrente.",-1)),e[114]||(e[114]=i("h1",null,"Condizione di Deadlock:",-1)),e[115]||(e[115]=i("ul",null,[i("li",null,"Un deadlock si verifica quando due o più processi rimangono bloccati in attesa di risorse che sono detenute da altri processi nello stesso insieme di processi."),i("li",null,"In un deadlock, nessun processo può procedere perché ciascuno attende una risorsa che è detenuta da un altro processo, creando un’impasse nella concorrenza."),i("li",null,"Per risolvere un deadlock, è necessario rilasciare le risorse bloccate o implementare algoritmi di rilevamento e risoluzione dei deadlock.")],-1)),e[116]||(e[116]=i("h2",null,"Esempio di condizione di deadlock",-1)),e[117]||(e[117]=i("p",null,"Per illustrare un esempio di condizione di deadlock, useremo due thread e due mutex. Ogni thread cercherà di acquisire entrambi i mutex, ma in ordine inverso, creando una situazione in cui ciascun thread detiene un mutex e attende l’altro, portando a un deadlock.",-1)),e[118]||(e[118]=i("p",null,"Ecco i passaggi in pseudocodice:",-1)),e[119]||(e[119]=i("ol",null,[i("li",null,[s("Inizializzare due mutex, "),i("code",null,"mutex1"),s(" e "),i("code",null,"mutex2"),s(".")]),i("li",null,[s("Creare due funzioni, "),i("code",null,"threadFunction1"),s(" e "),i("code",null,"threadFunction2"),s(". Ogni funzione cercherà di acquisire entrambi i mutex, ma in ordine inverso: "),i("ul",null,[i("li",null,[i("code",null,"threadFunction1"),s(" cercherà di acquisire prima "),i("code",null,"mutex1"),s(" e poi "),i("code",null,"mutex2"),s(".")]),i("li",null,[i("code",null,"threadFunction2"),s(" cercherà di acquisire prima "),i("code",null,"mutex2"),s(" e poi "),i("code",null,"mutex1"),s(".")])])]),i("li",null,[s("Creare e avviare due thread, uno per "),i("code",null,"threadFunction1"),s(" e uno per "),i("code",null,"threadFunction2"),s(".")]),i("li",null,"Attendere che entrambi i thread terminino (questo non accadrà a causa del deadlock).")],-1)),e[120]||(e[120]=i("p",null,"Ecco come potrebbe essere implementato in C:",-1)),n(l,t({},{ranges:[]}),{default:a(()=>e[4]||(e[4]=[i("pre",{class:"shiki shiki-themes vitesse-dark vitesse-light slidev-code",style:{"--shiki-dark":"#dbd7caee","--shiki-light":"#393a34","--shiki-dark-bg":"#121212","--shiki-light-bg":"#ffffff"}},[i("code",{class:"language-c"},[i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},"#"),i("span",{style:{"--shiki-dark":"#4D9375","--shiki-light":"#1E754F"}},"include"),i("span",{style:{"--shiki-dark":"#C98A7D77","--shiki-light":"#B5695977"}}," <"),i("span",{style:{"--shiki-dark":"#C98A7D","--shiki-light":"#B56959"}},"pthread.h"),i("span",{style:{"--shiki-dark":"#C98A7D77","--shiki-light":"#B5695977"}},">")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},"#"),i("span",{style:{"--shiki-dark":"#4D9375","--shiki-light":"#1E754F"}},"include"),i("span",{style:{"--shiki-dark":"#C98A7D77","--shiki-light":"#B5695977"}}," <"),i("span",{style:{"--shiki-dark":"#C98A7D","--shiki-light":"#B56959"}},"stdio.h"),i("span",{style:{"--shiki-dark":"#C98A7D77","--shiki-light":"#B5695977"}},">")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},"#"),i("span",{style:{"--shiki-dark":"#4D9375","--shiki-light":"#1E754F"}},"include"),i("span",{style:{"--shiki-dark":"#C98A7D77","--shiki-light":"#B5695977"}}," <"),i("span",{style:{"--shiki-dark":"#C98A7D","--shiki-light":"#B56959"}},"stdlib.h"),i("span",{style:{"--shiki-dark":"#C98A7D77","--shiki-light":"#B5695977"}},">")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#CB7676","--shiki-light":"#AB5959"}},"pthread_mutex_t"),i("span",{style:{"--shiki-dark":"#DBD7CAEE","--shiki-light":"#393A34"}}," mutex1 "),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},"="),i("span",{style:{"--shiki-dark":"#DBD7CAEE","--shiki-light":"#393A34"}}," PTHREAD_MUTEX_INITIALIZER"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},";")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#CB7676","--shiki-light":"#AB5959"}},"pthread_mutex_t"),i("span",{style:{"--shiki-dark":"#DBD7CAEE","--shiki-light":"#393A34"}}," mutex2 "),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},"="),i("span",{style:{"--shiki-dark":"#DBD7CAEE","--shiki-light":"#393A34"}}," PTHREAD_MUTEX_INITIALIZER"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},";")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#758575DD","--shiki-light":"#A0ADA0"}},"// Funzione eseguita dal primo thread")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#CB7676","--shiki-light":"#AB5959"}},"void*"),i("span",{style:{"--shiki-dark":"#80A665","--shiki-light":"#59873A"}}," threadFunction1"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},"("),i("span",{style:{"--shiki-dark":"#CB7676","--shiki-light":"#AB5959"}},"void*"),i("span",{style:{"--shiki-dark":"#BD976A","--shiki-light":"#B07D48"}}," arg"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},")"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}}," {")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#80A665","--shiki-light":"#59873A"}},"    pthread_mutex_lock"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},"("),i("span",{style:{"--shiki-dark":"#CB7676","--shiki-light":"#AB5959"}},"&"),i("span",{style:{"--shiki-dark":"#DBD7CAEE","--shiki-light":"#393A34"}},"mutex1"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},");")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#80A665","--shiki-light":"#59873A"}},"    printf"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},"("),i("span",{style:{"--shiki-dark":"#C98A7D77","--shiki-light":"#B5695977"}},'"'),i("span",{style:{"--shiki-dark":"#C98A7D","--shiki-light":"#B56959"}},"Thread 1 ha acquisito mutex1"),i("span",{style:{"--shiki-dark":"#C99076","--shiki-light":"#A65E2B"}},"\\n"),i("span",{style:{"--shiki-dark":"#C98A7D77","--shiki-light":"#B5695977"}},'"'),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},");")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#80A665","--shiki-light":"#59873A"}},"    sleep"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},"("),i("span",{style:{"--shiki-dark":"#4C9A91","--shiki-light":"#2F798A"}},"1"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},");"),i("span",{style:{"--shiki-dark":"#758575DD","--shiki-light":"#A0ADA0"}}," // Simula il lavoro e dà tempo al thread 2 di bloccare mutex2")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#80A665","--shiki-light":"#59873A"}},"    pthread_mutex_lock"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},"("),i("span",{style:{"--shiki-dark":"#CB7676","--shiki-light":"#AB5959"}},"&"),i("span",{style:{"--shiki-dark":"#DBD7CAEE","--shiki-light":"#393A34"}},"mutex2"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},");")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#80A665","--shiki-light":"#59873A"}},"    printf"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},"("),i("span",{style:{"--shiki-dark":"#C98A7D77","--shiki-light":"#B5695977"}},'"'),i("span",{style:{"--shiki-dark":"#C98A7D","--shiki-light":"#B56959"}},"Thread 1 ha acquisito mutex2"),i("span",{style:{"--shiki-dark":"#C99076","--shiki-light":"#A65E2B"}},"\\n"),i("span",{style:{"--shiki-dark":"#C98A7D77","--shiki-light":"#B5695977"}},'"'),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},");")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#80A665","--shiki-light":"#59873A"}},"    pthread_mutex_unlock"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},"("),i("span",{style:{"--shiki-dark":"#CB7676","--shiki-light":"#AB5959"}},"&"),i("span",{style:{"--shiki-dark":"#DBD7CAEE","--shiki-light":"#393A34"}},"mutex2"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},");")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#80A665","--shiki-light":"#59873A"}},"    pthread_mutex_unlock"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},"("),i("span",{style:{"--shiki-dark":"#CB7676","--shiki-light":"#AB5959"}},"&"),i("span",{style:{"--shiki-dark":"#DBD7CAEE","--shiki-light":"#393A34"}},"mutex1"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},");")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#4D9375","--shiki-light":"#1E754F"}},"    return"),i("span",{style:{"--shiki-dark":"#4D9375","--shiki-light":"#1E754F"}}," NULL"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},";")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},"}")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#758575DD","--shiki-light":"#A0ADA0"}},"// Funzione eseguita dal secondo thread")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#CB7676","--shiki-light":"#AB5959"}},"void*"),i("span",{style:{"--shiki-dark":"#80A665","--shiki-light":"#59873A"}}," threadFunction2"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},"("),i("span",{style:{"--shiki-dark":"#CB7676","--shiki-light":"#AB5959"}},"void*"),i("span",{style:{"--shiki-dark":"#BD976A","--shiki-light":"#B07D48"}}," arg"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},")"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}}," {")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#80A665","--shiki-light":"#59873A"}},"    pthread_mutex_lock"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},"("),i("span",{style:{"--shiki-dark":"#CB7676","--shiki-light":"#AB5959"}},"&"),i("span",{style:{"--shiki-dark":"#DBD7CAEE","--shiki-light":"#393A34"}},"mutex2"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},");")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#80A665","--shiki-light":"#59873A"}},"    printf"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},"("),i("span",{style:{"--shiki-dark":"#C98A7D77","--shiki-light":"#B5695977"}},'"'),i("span",{style:{"--shiki-dark":"#C98A7D","--shiki-light":"#B56959"}},"Thread 2 ha acquisito mutex2"),i("span",{style:{"--shiki-dark":"#C99076","--shiki-light":"#A65E2B"}},"\\n"),i("span",{style:{"--shiki-dark":"#C98A7D77","--shiki-light":"#B5695977"}},'"'),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},");")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#80A665","--shiki-light":"#59873A"}},"    sleep"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},"("),i("span",{style:{"--shiki-dark":"#4C9A91","--shiki-light":"#2F798A"}},"1"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},");"),i("span",{style:{"--shiki-dark":"#758575DD","--shiki-light":"#A0ADA0"}}," // Simula il lavoro e dà tempo al thread 1 di bloccare mutex1")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#80A665","--shiki-light":"#59873A"}},"    pthread_mutex_lock"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},"("),i("span",{style:{"--shiki-dark":"#CB7676","--shiki-light":"#AB5959"}},"&"),i("span",{style:{"--shiki-dark":"#DBD7CAEE","--shiki-light":"#393A34"}},"mutex1"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},");")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#80A665","--shiki-light":"#59873A"}},"    printf"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},"("),i("span",{style:{"--shiki-dark":"#C98A7D77","--shiki-light":"#B5695977"}},'"'),i("span",{style:{"--shiki-dark":"#C98A7D","--shiki-light":"#B56959"}},"Thread 2 ha acquisito mutex1"),i("span",{style:{"--shiki-dark":"#C99076","--shiki-light":"#A65E2B"}},"\\n"),i("span",{style:{"--shiki-dark":"#C98A7D77","--shiki-light":"#B5695977"}},'"'),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},");")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#80A665","--shiki-light":"#59873A"}},"    pthread_mutex_unlock"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},"("),i("span",{style:{"--shiki-dark":"#CB7676","--shiki-light":"#AB5959"}},"&"),i("span",{style:{"--shiki-dark":"#DBD7CAEE","--shiki-light":"#393A34"}},"mutex1"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},");")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#80A665","--shiki-light":"#59873A"}},"    pthread_mutex_unlock"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},"("),i("span",{style:{"--shiki-dark":"#CB7676","--shiki-light":"#AB5959"}},"&"),i("span",{style:{"--shiki-dark":"#DBD7CAEE","--shiki-light":"#393A34"}},"mutex2"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},");")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#4D9375","--shiki-light":"#1E754F"}},"    return"),i("span",{style:{"--shiki-dark":"#4D9375","--shiki-light":"#1E754F"}}," NULL"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},";")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},"}")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#CB7676","--shiki-light":"#AB5959"}},"int"),i("span",{style:{"--shiki-dark":"#80A665","--shiki-light":"#59873A"}}," main"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},"()"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}}," {")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#CB7676","--shiki-light":"#AB5959"}},"    pthread_t"),i("span",{style:{"--shiki-dark":"#DBD7CAEE","--shiki-light":"#393A34"}}," thread1"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},","),i("span",{style:{"--shiki-dark":"#DBD7CAEE","--shiki-light":"#393A34"}}," thread2"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},";")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#80A665","--shiki-light":"#59873A"}},"    pthread_create"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},"("),i("span",{style:{"--shiki-dark":"#CB7676","--shiki-light":"#AB5959"}},"&"),i("span",{style:{"--shiki-dark":"#DBD7CAEE","--shiki-light":"#393A34"}},"thread1"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},","),i("span",{style:{"--shiki-dark":"#4D9375","--shiki-light":"#1E754F"}}," NULL"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},","),i("span",{style:{"--shiki-dark":"#DBD7CAEE","--shiki-light":"#393A34"}}," threadFunction1"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},","),i("span",{style:{"--shiki-dark":"#4D9375","--shiki-light":"#1E754F"}}," NULL"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},");")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#80A665","--shiki-light":"#59873A"}},"    pthread_create"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},"("),i("span",{style:{"--shiki-dark":"#CB7676","--shiki-light":"#AB5959"}},"&"),i("span",{style:{"--shiki-dark":"#DBD7CAEE","--shiki-light":"#393A34"}},"thread2"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},","),i("span",{style:{"--shiki-dark":"#4D9375","--shiki-light":"#1E754F"}}," NULL"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},","),i("span",{style:{"--shiki-dark":"#DBD7CAEE","--shiki-light":"#393A34"}}," threadFunction2"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},","),i("span",{style:{"--shiki-dark":"#4D9375","--shiki-light":"#1E754F"}}," NULL"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},");")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#80A665","--shiki-light":"#59873A"}},"    pthread_join"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},"("),i("span",{style:{"--shiki-dark":"#DBD7CAEE","--shiki-light":"#393A34"}},"thread1"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},","),i("span",{style:{"--shiki-dark":"#4D9375","--shiki-light":"#1E754F"}}," NULL"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},");")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#80A665","--shiki-light":"#59873A"}},"    pthread_join"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},"("),i("span",{style:{"--shiki-dark":"#DBD7CAEE","--shiki-light":"#393A34"}},"thread2"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},","),i("span",{style:{"--shiki-dark":"#4D9375","--shiki-light":"#1E754F"}}," NULL"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},");")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#4D9375","--shiki-light":"#1E754F"}},"    return"),i("span",{style:{"--shiki-dark":"#4C9A91","--shiki-light":"#2F798A"}}," 0"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},";")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},"}")])])],-1)])),_:1},16),e[121]||(e[121]=i("p",null,"In questo esempio, entrambi i thread rimarranno bloccati indefinitamente cercando di acquisire il mutex che l’altro thread ha già bloccato, risultando in un deadlock.",-1)),e[122]||(e[122]=i("h2",null,"Evitare la condizione di deadlock",-1)),e[123]||(e[123]=i("p",null,[s("Per risolvere la condizione di deadlock nel codice fornito, possiamo adottare l’approccio di acquisire i mutex sempre nello stesso ordine in entrambe le funzioni dei thread. Questo evita la situazione in cui un thread aspetta l’altro per rilasciare un mutex che ha già acquisito. Modificheremo entrambe le funzioni dei thread per acquisire prima "),i("code",null,"mutex1"),s(" e poi "),i("code",null,"mutex2"),s(".")],-1)),n(l,t({},{ranges:[]}),{default:a(()=>e[5]||(e[5]=[i("pre",{class:"shiki shiki-themes vitesse-dark vitesse-light slidev-code",style:{"--shiki-dark":"#dbd7caee","--shiki-light":"#393a34","--shiki-dark-bg":"#121212","--shiki-light-bg":"#ffffff"}},[i("code",{class:"language-c"},[i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#758575DD","--shiki-light":"#A0ADA0"}},"// Funzione eseguita dal secondo thread")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#CB7676","--shiki-light":"#AB5959"}},"void*"),i("span",{style:{"--shiki-dark":"#80A665","--shiki-light":"#59873A"}}," threadFunction2"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},"("),i("span",{style:{"--shiki-dark":"#CB7676","--shiki-light":"#AB5959"}},"void*"),i("span",{style:{"--shiki-dark":"#BD976A","--shiki-light":"#B07D48"}}," arg"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},")"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}}," {")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#80A665","--shiki-light":"#59873A"}},"    pthread_mutex_lock"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},"("),i("span",{style:{"--shiki-dark":"#CB7676","--shiki-light":"#AB5959"}},"&"),i("span",{style:{"--shiki-dark":"#DBD7CAEE","--shiki-light":"#393A34"}},"mutex1"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},");"),i("span",{style:{"--shiki-dark":"#758575DD","--shiki-light":"#A0ADA0"}}," // Modifica qui: acquisisce prima mutex1")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#80A665","--shiki-light":"#59873A"}},"    printf"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},"("),i("span",{style:{"--shiki-dark":"#C98A7D77","--shiki-light":"#B5695977"}},'"'),i("span",{style:{"--shiki-dark":"#C98A7D","--shiki-light":"#B56959"}},"Thread 2 ha acquisito mutex1"),i("span",{style:{"--shiki-dark":"#C99076","--shiki-light":"#A65E2B"}},"\\n"),i("span",{style:{"--shiki-dark":"#C98A7D77","--shiki-light":"#B5695977"}},'"'),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},");")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#80A665","--shiki-light":"#59873A"}},"    sleep"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},"("),i("span",{style:{"--shiki-dark":"#4C9A91","--shiki-light":"#2F798A"}},"1"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},");"),i("span",{style:{"--shiki-dark":"#758575DD","--shiki-light":"#A0ADA0"}}," // Simula il lavoro e dà tempo al thread 1 di bloccare mutex2")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#80A665","--shiki-light":"#59873A"}},"      pthread_mutex_lock"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},"("),i("span",{style:{"--shiki-dark":"#CB7676","--shiki-light":"#AB5959"}},"&"),i("span",{style:{"--shiki-dark":"#DBD7CAEE","--shiki-light":"#393A34"}},"mutex2"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},");"),i("span",{style:{"--shiki-dark":"#758575DD","--shiki-light":"#A0ADA0"}}," // Poi acquisisce mutex2")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#80A665","--shiki-light":"#59873A"}},"        printf"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},"("),i("span",{style:{"--shiki-dark":"#C98A7D77","--shiki-light":"#B5695977"}},'"'),i("span",{style:{"--shiki-dark":"#C98A7D","--shiki-light":"#B56959"}},"Thread 2 ha acquisito mutex2"),i("span",{style:{"--shiki-dark":"#C99076","--shiki-light":"#A65E2B"}},"\\n"),i("span",{style:{"--shiki-dark":"#C98A7D77","--shiki-light":"#B5695977"}},'"'),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},");")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#80A665","--shiki-light":"#59873A"}},"      pthread_mutex_unlock"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},"("),i("span",{style:{"--shiki-dark":"#CB7676","--shiki-light":"#AB5959"}},"&"),i("span",{style:{"--shiki-dark":"#DBD7CAEE","--shiki-light":"#393A34"}},"mutex2"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},");")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#80A665","--shiki-light":"#59873A"}},"    pthread_mutex_unlock"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},"("),i("span",{style:{"--shiki-dark":"#CB7676","--shiki-light":"#AB5959"}},"&"),i("span",{style:{"--shiki-dark":"#DBD7CAEE","--shiki-light":"#393A34"}},"mutex1"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},");")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#4D9375","--shiki-light":"#1E754F"}},"    return"),i("span",{style:{"--shiki-dark":"#4D9375","--shiki-light":"#1E754F"}}," NULL"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},";")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},"}")])])],-1)])),_:1},16),e[124]||(e[124]=i("p",null,[s("Con questa modifica, entrambi i thread cercheranno di acquisire i mutex nello stesso ordine ("),i("code",null,"mutex1"),s(" e poi "),i("code",null,"mutex2"),s("), eliminando così la possibilità di un deadlock. Questo approccio è uno dei modi più semplici ed efficaci per prevenire i deadlock quando si lavora con più mutex.")],-1)),e[125]||(e[125]=i("h1",null,"Starvation",-1)),e[126]||(e[126]=i("ul",null,[i("li",null,[i("p",null,"La starvation si verifica quando un processo non riesce a ottenere l’accesso alle risorse di cui ha bisogno per essere eseguito a causa di priorità inferiori rispetto ad altri processi.")]),i("li",null,[i("p",null,"Un processo in stato di starvation può essere costantemente ignorato dai meccanismi di schedulazione del sistema operativo, impedendogli di fare progressi o completare il suo lavoro.")]),i("li",null,[i("p",null,"La starvation può verificarsi in situazioni in cui i processi con priorità più elevate monopolizzano le risorse, impedendo ai processi con priorità più basse di essere eseguiti.")])],-1)),e[127]||(e[127]=i("p",null,"Queste condizioni sono importanti da considerare durante lo sviluppo di programmi concorrenti per garantire che il codice sia robusto, efficiente e privo di problemi di concorrenza che potrebbero compromettere la correttezza e le prestazioni del sistema.",-1)),e[128]||(e[128]=i("p",null,"La sincronizzazione tra lettori e scrittori nell’accesso a una variabile condivisa utilizzando i Pthreads (pthread.h) in C può essere gestita in diversi modi per garantire la correttezza e la coerenza dei dati. Ecco un approccio comune utilizzando i semafori:",-1)),e[129]||(e[129]=i("ol",null,[i("li",null,[i("p",null,[i("strong",null,"Utilizzo di Semafori"),s(":")]),i("ul",null,[i("li",null,"Creare due semafori, uno per i lettori e uno per gli scrittori."),i("li",null,"Utilizzare un semaforo mutex per garantire l’accesso esclusivo alla variabile condivisa."),i("li",null,"Implementare un contatore per tracciare il numero di lettori attivi."),i("li",null,"Utilizzare un semaforo per garantire l’accesso esclusivo alla variabile contatore dei lettori.")])]),i("li",null,[i("p",null,[i("strong",null,"Implementazione"),s(":")]),i("ul",null,[i("li",null,[i("p",null,"Quando un lettore desidera leggere la variabile condivisa:"),i("ul",null,[i("li",null,"Acquisire il semaforo per il contatore dei lettori."),i("li",null,"Incrementare il contatore dei lettori (se è il primo lettore, acquisire il semaforo mutex)."),i("li",null,"Rilasciare il semaforo per il contatore dei lettori."),i("li",null,"Leggere la variabile condivisa."),i("li",null,"Se è l’ultimo lettore, rilasciare il semaforo mutex.")])]),i("li",null,[i("p",null,"Quando uno scrittore desidera scrivere sulla variabile condivisa:"),i("ul",null,[i("li",null,"Acquisire il semaforo mutex."),i("li",null,"Bloccare l’accesso ai lettori acquisendo il semaforo per il contatore dei lettori."),i("li",null,"Scrivere sulla variabile condivisa."),i("li",null,"Rilasciare il semaforo mutex e il semaforo per il contatore dei lettori.")])])])]),i("li",null,[i("p",null,[i("strong",null,"Considerazioni"),s(":")]),i("ul",null,[i("li",null,"Assicurati di proteggere tutte le operazioni critiche con i semafori per evitare condizioni di race."),i("li",null,"Gestisci correttamente la priorità tra lettori e scrittori per evitare starvation."),i("li",null,"Testa attentamente il tuo codice per assicurarti che la sincronizzazione funzioni correttamente in tutte le situazioni.")])])],-1)),e[130]||(e[130]=i("p",null,"Questo è solo un esempio di come gestire la sincronizzazione tra lettori e scrittori utilizzando i Pthreads e i semafori in C. È importante capire le esigenze specifiche del tuo problema e adattare l’implementazione di conseguenza.",-1)),e[131]||(e[131]=i("h1",null,"Il prodotto scalare tra due vettori",-1)),e[132]||(e[132]=i("p",null,"Il prodotto scalare tra due vettori è un’operazione matematica che restituisce un singolo valore numerico ottenuto moltiplicando gli elementi corrispondenti dei due vettori e sommando i risultati. In altre parole, il prodotto scalare di due vettori vettore A = [a1, a2, …, an] e vettore B = [b1, b2, …, bn] è dato dalla seguente formula:",-1)),e[133]||(e[133]=i("p",null,[i("strong",null,"Prodotto Scalare"),s(" = a1 * b1 + a2 * b2 + … + an * bn")],-1)),e[134]||(e[134]=i("p",null,"Questo calcolo produce un singolo valore che rappresenta il prodotto interno dei due vettori nello spazio euclideo.",-1)),e[135]||(e[135]=i("p",null,"Ecco un esempio di un programma in C che calcola il prodotto scalare tra due vettori:",-1)),n(l,t({},{ranges:[]}),{default:a(()=>e[6]||(e[6]=[i("pre",{class:"shiki shiki-themes vitesse-dark vitesse-light slidev-code",style:{"--shiki-dark":"#dbd7caee","--shiki-light":"#393a34","--shiki-dark-bg":"#121212","--shiki-light-bg":"#ffffff"}},[i("code",{class:"language-c"},[i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},"#"),i("span",{style:{"--shiki-dark":"#4D9375","--shiki-light":"#1E754F"}},"include"),i("span",{style:{"--shiki-dark":"#C98A7D77","--shiki-light":"#B5695977"}}," <"),i("span",{style:{"--shiki-dark":"#C98A7D","--shiki-light":"#B56959"}},"stdio.h"),i("span",{style:{"--shiki-dark":"#C98A7D77","--shiki-light":"#B5695977"}},">")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},"#"),i("span",{style:{"--shiki-dark":"#4D9375","--shiki-light":"#1E754F"}},"define"),i("span",{style:{"--shiki-dark":"#80A665","--shiki-light":"#59873A"}}," N"),i("span",{style:{"--shiki-dark":"#4C9A91","--shiki-light":"#2F798A"}}," 3"),i("span",{style:{"--shiki-dark":"#758575DD","--shiki-light":"#A0ADA0"}}," // Dimensione dei vettori")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#CB7676","--shiki-light":"#AB5959"}},"int"),i("span",{style:{"--shiki-dark":"#80A665","--shiki-light":"#59873A"}}," main"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},"()"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}}," {")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#CB7676","--shiki-light":"#AB5959"}},"    int"),i("span",{style:{"--shiki-dark":"#BD976A","--shiki-light":"#B07D48"}}," vettoreA"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},"["),i("span",{style:{"--shiki-dark":"#DBD7CAEE","--shiki-light":"#393A34"}},"N"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},"]"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}}," ="),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}}," {"),i("span",{style:{"--shiki-dark":"#4C9A91","--shiki-light":"#2F798A"}},"2"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},","),i("span",{style:{"--shiki-dark":"#4C9A91","--shiki-light":"#2F798A"}}," 3"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},","),i("span",{style:{"--shiki-dark":"#4C9A91","--shiki-light":"#2F798A"}}," 4"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},"};")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#CB7676","--shiki-light":"#AB5959"}},"    int"),i("span",{style:{"--shiki-dark":"#BD976A","--shiki-light":"#B07D48"}}," vettoreB"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},"["),i("span",{style:{"--shiki-dark":"#DBD7CAEE","--shiki-light":"#393A34"}},"N"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},"]"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}}," ="),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}}," {"),i("span",{style:{"--shiki-dark":"#4C9A91","--shiki-light":"#2F798A"}},"1"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},","),i("span",{style:{"--shiki-dark":"#4C9A91","--shiki-light":"#2F798A"}}," 5"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},","),i("span",{style:{"--shiki-dark":"#4C9A91","--shiki-light":"#2F798A"}}," 2"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},"};")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#CB7676","--shiki-light":"#AB5959"}},"    int"),i("span",{style:{"--shiki-dark":"#DBD7CAEE","--shiki-light":"#393A34"}}," prodotto_scalare "),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},"="),i("span",{style:{"--shiki-dark":"#4C9A91","--shiki-light":"#2F798A"}}," 0"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},";")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#4D9375","--shiki-light":"#1E754F"}},"    for"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}}," ("),i("span",{style:{"--shiki-dark":"#CB7676","--shiki-light":"#AB5959"}},"int"),i("span",{style:{"--shiki-dark":"#DBD7CAEE","--shiki-light":"#393A34"}}," i "),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},"="),i("span",{style:{"--shiki-dark":"#4C9A91","--shiki-light":"#2F798A"}}," 0"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},";"),i("span",{style:{"--shiki-dark":"#DBD7CAEE","--shiki-light":"#393A34"}}," i "),i("span",{style:{"--shiki-dark":"#CB7676","--shiki-light":"#AB5959"}},"<"),i("span",{style:{"--shiki-dark":"#DBD7CAEE","--shiki-light":"#393A34"}}," N"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},";"),i("span",{style:{"--shiki-dark":"#DBD7CAEE","--shiki-light":"#393A34"}}," i"),i("span",{style:{"--shiki-dark":"#CB7676","--shiki-light":"#AB5959"}},"++"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},")"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}}," {")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#DBD7CAEE","--shiki-light":"#393A34"}},"        prodotto_scalare "),i("span",{style:{"--shiki-dark":"#CB7676","--shiki-light":"#AB5959"}},"+="),i("span",{style:{"--shiki-dark":"#BD976A","--shiki-light":"#B07D48"}}," vettoreA"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},"["),i("span",{style:{"--shiki-dark":"#DBD7CAEE","--shiki-light":"#393A34"}},"i"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},"]"),i("span",{style:{"--shiki-dark":"#CB7676","--shiki-light":"#AB5959"}}," *"),i("span",{style:{"--shiki-dark":"#BD976A","--shiki-light":"#B07D48"}}," vettoreB"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},"["),i("span",{style:{"--shiki-dark":"#DBD7CAEE","--shiki-light":"#393A34"}},"i"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},"];")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},"    }")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#80A665","--shiki-light":"#59873A"}},"    printf"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},"("),i("span",{style:{"--shiki-dark":"#C98A7D77","--shiki-light":"#B5695977"}},'"'),i("span",{style:{"--shiki-dark":"#C98A7D","--shiki-light":"#B56959"}},"Il prodotto scalare tra i due vettori è: "),i("span",{style:{"--shiki-dark":"#C99076","--shiki-light":"#A65E2B"}},"%d\\n"),i("span",{style:{"--shiki-dark":"#C98A7D77","--shiki-light":"#B5695977"}},'"'),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},","),i("span",{style:{"--shiki-dark":"#DBD7CAEE","--shiki-light":"#393A34"}}," prodotto_scalare"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},");")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#4D9375","--shiki-light":"#1E754F"}},"    return"),i("span",{style:{"--shiki-dark":"#4C9A91","--shiki-light":"#2F798A"}}," 0"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},";")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#DBD7CAEE","--shiki-light":"#393A34"}},"}")])])],-1)])),_:1},16),e[136]||(e[136]=i("p",null,[s("In questo esempio, abbiamo due vettori "),i("code",null,"vettoreA"),s(" e "),i("code",null,"vettoreB"),s(" di dimensione 3. Il programma calcola il prodotto scalare tra i due vettori utilizzando un ciclo for per moltiplicare gli elementi corrispondenti e sommare i risultati. Alla fine, viene stampato il valore del prodotto scalare calcolato.")],-1)),e[137]||(e[137]=i("p",null,"Esempio di esecuzione:",-1)),n(l,t({},{ranges:[]}),{default:a(()=>e[7]||(e[7]=[i("pre",{class:"shiki shiki-themes vitesse-dark vitesse-light slidev-code",style:{"--shiki-dark":"#dbd7caee","--shiki-light":"#393a34","--shiki-dark-bg":"#121212","--shiki-light-bg":"#ffffff"}},[i("code",{class:"language-text"},[i("span",{class:"line"},[i("span",null,"Il prodotto scalare tra i due vettori è: 20")])])],-1)])),_:1},16),e[138]||(e[138]=i("p",null,"Questo programma semplice illustra come calcolare il prodotto scalare tra due vettori in C. Ci sono diverse implementazioni possibili a seconda delle esigenze specifiche e del linguaggio di programmazione utilizzato.",-1)),e[139]||(e[139]=i("p",null,[s("Per un esempio di implementazione, "),i("a",{href:"prodottoScalareMT.c",target:"_blank"},"vedi"),s(".")],-1)),e[140]||(e[140]=i("p",null,"Utilizzare i thread al posto dei processi per la programmazione parallela presenta diversi vantaggi, tra cui:",-1)),e[141]||(e[141]=i("ol",null,[i("li",null,[i("p",null,[i("strong",null,"Efficienza"),s(": I thread condividono lo stesso spazio di indirizzamento e le risorse del processo padre, il che li rende più leggeri rispetto ai processi. La creazione di un thread è generalmente più veloce rispetto alla creazione di un processo.")])]),i("li",null,[i("p",null,[i("strong",null,"Velocità di comunicazione"),s(": I thread all’interno dello stesso processo possono comunicare tra loro più facilmente e velocemente rispetto ai processi che devono utilizzare meccanismi di comunicazione interprocessuale come le code di messaggi o le pipe.")])]),i("li",null,[i("p",null,[i("strong",null,"Condivisione di risorse"),s(": I thread all’interno dello stesso processo condividono lo stesso contesto di memoria, consentendo una condivisione diretta dei dati senza la necessità di meccanismi di comunicazione aggiuntivi.")])]),i("li",null,[i("p",null,[i("strong",null,"Coordinazione più semplice"),s(": Poiché i thread condividono lo stesso contesto di esecuzione, la sincronizzazione e la coordinazione tra di essi sono più semplici rispetto alla gestione della concorrenza tra processi separati.")])]),i("li",null,[i("p",null,[i("strong",null,"Scalabilità"),s(": Utilizzando i thread, è possibile sfruttare in modo più efficiente i sistemi multi-core e multi-processore, distribuendo compiti tra i diversi thread per sfruttare al massimo la potenza di calcolo disponibile.")])])],-1)),e[142]||(e[142]=i("p",null,"Per fornire un esempio pratico, consideriamo un programma in C che utilizza i thread per calcolare la somma di un array di numeri. L’idea è dividere l’array in parti uguali in base al numero di core disponibili nel sistema, assegnando a ogni thread la responsabilità di sommare una parte dell’array. Questo approccio permette di sfruttare la parallelizzazione per accelerare il calcolo.",-1)),e[143]||(e[143]=i("h2",null,"Pseudocodice",-1)),e[144]||(e[144]=i("ol",null,[i("li",null,"Determinare il numero di core disponibili nel sistema."),i("li",null,"Dividere l’array in parti uguali in base al numero di core."),i("li",null,[s("Creare un thread per ogni parte dell’array. "),i("ul",null,[i("li",null,"Ogni thread calcola la somma della sua parte dell’array.")])]),i("li",null,"Attendere che tutti i thread completino."),i("li",null,"Sommare i risultati parziali ottenuti da ogni thread per ottenere il risultato finale.")],-1)),e[145]||(e[145]=i("p",null,[i("a",{href:"sommaScalabile.c",target:"_blank"},"Questo codice"),s(" dimostra come dividere un compito (la somma di un array) tra diversi thread per sfruttare la potenza di calcolo dei multi-core.")],-1)),e[146]||(e[146]=i("p",null,"Challeng Crea: prodottoScalareScalabileMT.c",-1)),e[147]||(e[147]=i("ol",{start:"6"},[i("li",null,[i("strong",null,"Maggiore flessibilità"),s(": I thread consentono una gestione più flessibile delle attività parallele all’interno di un’applicazione, consentendo di creare strutture di controllo più complesse e reattive.")])],-1)),e[148]||(e[148]=i("p",null,"In generale, l’uso dei thread risulta più vantaggioso per la programmazione parallela in situazioni in cui è necessaria una comunicazione veloce tra le unità di elaborazione e la condivisione efficiente delle risorse, mentre l’uso dei processi può essere più indicato quando sono richieste maggiori misure di isolamento e protezione tra le attività parallele.",-1)),e[149]||(e[149]=i("p",null,[s("Per un esempio di implementazione con uso di treads e processi , "),i("a",{href:"prodottoScalareMP.c",target:"_blank"},"vedi"),s(".")],-1)),e[150]||(e[150]=i("h2",null,"Problemi coinvolgono la gestione della concorrenza e della sincronizzazione tra thread",-1)),e[151]||(e[151]=i("p",null,[s("Nella programmazione parallela, il "),i("strong",null,"problema del produttore e consumatore"),s(" e il "),i("strong",null,"problema di lettura e scrittura"),s(" sono entrambi classici problemi di sincronizzazione che coinvolgono la condivisione di risorse tra più thread. Ecco le principali differenze tra i due:")],-1)),e[152]||(e[152]=i("p",null,[i("strong",null,"Problema di Lettura e Scrittura")],-1)),e[153]||(e[153]=i("ul",null,[i("li",null,"Coinvolge due tipi di operazioni: operazioni di lettura e operazioni di scrittura su una risorsa condivisa, ad esempio un file o una variabile."),i("li",null,"Scopo principale è garantire che più lettori possano accedere contemporaneamente alla risorsa per la lettura, ma che un solo scrittore possa accedere alla risorsa per la scrittura in modo esclusivo."),i("li",null,"La sincronizzazione avviene per evitare la sovrascrittura dei dati durante la scrittura e garantire la coerenza dei dati durante la lettura."),i("li",null,'Può verificarsi il problema della "scrittura sporca" (lettura di dati non validi a causa di scritture in corso) o della "lettura sporca" (lettura di dati non validi a causa di scritture incomplete).')],-1)),e[154]||(e[154]=i("p",null,[i("strong",null,"Problema del Produttore e Consumatore")],-1)),e[155]||(e[155]=i("ul",null,[i("li",null,"Coinvolge due tipi di thread: i produttori che producono dati e li inseriscono in un buffer e i consumatori che consumano i dati dal buffer."),i("li",null,"Scopo principale è garantire che i produttori non producano dati quando il buffer è pieno e che i consumatori non consumino dati quando il buffer è vuoto."),i("li",null,"La sincronizzazione avviene tramite meccanismi come semafori o mutex per garantire l’accesso sicuro e concorrente al buffer condiviso."),i("li",null,"Può verificarsi il problema della sovrapproduzione (produttori che producono più dati di quelli consumati) o della sottoproduzione (consumatori che consumano dati non ancora disponibili).")],-1)),e[156]||(e[156]=i("h2",null,"Altri classici problemi di concorrenza nella programmazione parallela",-1)),e[157]||(e[157]=i("ol",null,[i("li",null,[i("p",null,[i("strong",null,"Problema dei filosofi a cena"),s(": Rappresenta la sincronizzazione di più processi (filosofi) che condividono risorse (forchette) per evitare situazioni di deadlock e fame. Ogni filosofo deve prendere le forchette a lui adiacenti per mangiare.")])]),i("li",null,[i("p",null,[i("strong",null,"Problema del barbiere addormentato"),s(": Simula la situazione in cui un barbiere dorme finché non arriva un cliente. Il barbiere deve gestire l’accesso alla sedia del barbiere e alla sala d’attesa in modo sincronizzato per servire i clienti.")])])],-1)),e[158]||(e[158]=i("p",null,"Questi problemi sono spesso utilizzati per dimostrare l’efficacia delle tecniche di sincronizzazione e gestione della concorrenza nella programmazione parallela.",-1)),e[159]||(e[159]=i("h2",null,"Shared Memory",-1)),e[160]||(e[160]=i("p",null,[s("La memoria condivisa con "),i("strong",null,"shm (Shared Memory)"),s(" è un meccanismo di comunicazione e condivisione di dati tra processi su sistemi Unix-like. Ecco alcune caratteristiche e vantaggi della memoria condivisa con "),i("strong",null,"shm"),s(":")],-1)),e[161]||(e[161]=i("ul",null,[i("li",null,[i("p",null,[i("strong",null,"Caratteristiche"),s(":")]),i("ul",null,[i("li",null,"Consente a più processi di accedere alla stessa area di memoria condivisa, facilitando la comunicazione e lo scambio di dati tra di essi."),i("li"),i("li",null,"Più efficiente rispetto ad altri metodi di comunicazione interprocessuale come code di messaggi o socket, poiché elimina la necessità di copiare i dati tra i processi."),i("li",null,"È spesso utilizzata per la comunicazione e la sincronizzazione tra processi paralleli o concorrenti.")])]),i("li",null,[i("p",null,[i("strong",null,"Vantaggi"),s(":")]),i("ul",null,[i("li",null,[i("strong",null,"Velocità"),s(": La memoria condivisa è più veloce rispetto ad altre forme di comunicazione interprocessuale poiché i processi condividono direttamente lo spazio di memoria, evitando costose operazioni di copia dei dati.")]),i("li",null,[i("strong",null,"Semplicità"),s(": È relativamente semplice da implementare e utilizzare, consentendo ai processi di accedere direttamente alla memoria condivisa.")]),i("li",null,[i("strong",null,"Efficienza"),s(": Riduce il carico sul sistema in quanto non richiede la creazione di canali di comunicazione aggiuntivi come nel caso delle code di messaggi o socket.")])])])],-1)),e[162]||(e[162]=i("p",null,[s("Per utilizzare la memoria condivisa con "),i("strong",null,"shm"),s(", i processi devono creare un’area di memoria condivisa condivisa tra di loro e condividerne l’identificatore per potervi accedere. È importante sincronizzare correttamente l’accesso alla memoria condivisa utilizzando meccanismi come semafori o mutex per evitare problemi di concorrenza e garantire la coerenza dei dati condivisi.")],-1)),e[163]||(e[163]=i("p",null,[s("In sintesi, la memoria condivisa con "),i("strong",null,"shm"),s(" è un potente strumento per la comunicazione e la condivisione di dati tra processi su sistemi Unix-like, offrendo velocità, semplicità ed efficienza nella gestione della concorrenza e della sincronizzazione.")],-1)),n(l,t({},{ranges:[]}),{default:a(()=>e[8]||(e[8]=[i("pre",{class:"shiki shiki-themes vitesse-dark vitesse-light slidev-code",style:{"--shiki-dark":"#dbd7caee","--shiki-light":"#393a34","--shiki-dark-bg":"#121212","--shiki-light-bg":"#ffffff"}},[i("code",{class:"language-c"},[i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},"#"),i("span",{style:{"--shiki-dark":"#4D9375","--shiki-light":"#1E754F"}},"include"),i("span",{style:{"--shiki-dark":"#C98A7D77","--shiki-light":"#B5695977"}}," <"),i("span",{style:{"--shiki-dark":"#C98A7D","--shiki-light":"#B56959"}},"stdio.h"),i("span",{style:{"--shiki-dark":"#C98A7D77","--shiki-light":"#B5695977"}},">"),i("span",{style:{"--shiki-dark":"#758575DD","--shiki-light":"#A0ADA0"}}," // Inclusione della libreria standard di input/output")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},"#"),i("span",{style:{"--shiki-dark":"#4D9375","--shiki-light":"#1E754F"}},"include"),i("span",{style:{"--shiki-dark":"#C98A7D77","--shiki-light":"#B5695977"}}," <"),i("span",{style:{"--shiki-dark":"#C98A7D","--shiki-light":"#B56959"}},"stdlib.h"),i("span",{style:{"--shiki-dark":"#C98A7D77","--shiki-light":"#B5695977"}},">"),i("span",{style:{"--shiki-dark":"#758575DD","--shiki-light":"#A0ADA0"}}," // Inclusione della libreria standard per funzioni di utilità generale")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},"#"),i("span",{style:{"--shiki-dark":"#4D9375","--shiki-light":"#1E754F"}},"include"),i("span",{style:{"--shiki-dark":"#C98A7D77","--shiki-light":"#B5695977"}}," <"),i("span",{style:{"--shiki-dark":"#C98A7D","--shiki-light":"#B56959"}},"unistd.h"),i("span",{style:{"--shiki-dark":"#C98A7D77","--shiki-light":"#B5695977"}},">"),i("span",{style:{"--shiki-dark":"#758575DD","--shiki-light":"#A0ADA0"}}," // Inclusione della libreria per le chiamate di sistema POSIX")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},"#"),i("span",{style:{"--shiki-dark":"#4D9375","--shiki-light":"#1E754F"}},"include"),i("span",{style:{"--shiki-dark":"#C98A7D77","--shiki-light":"#B5695977"}}," <"),i("span",{style:{"--shiki-dark":"#C98A7D","--shiki-light":"#B56959"}},"sys/wait.h"),i("span",{style:{"--shiki-dark":"#C98A7D77","--shiki-light":"#B5695977"}},">"),i("span",{style:{"--shiki-dark":"#758575DD","--shiki-light":"#A0ADA0"}}," // Inclusione della libreria per la gestione delle attese dei processi")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},"#"),i("span",{style:{"--shiki-dark":"#4D9375","--shiki-light":"#1E754F"}},"include"),i("span",{style:{"--shiki-dark":"#C98A7D77","--shiki-light":"#B5695977"}}," <"),i("span",{style:{"--shiki-dark":"#C98A7D","--shiki-light":"#B56959"}},"sys/shm.h"),i("span",{style:{"--shiki-dark":"#C98A7D77","--shiki-light":"#B5695977"}},">"),i("span",{style:{"--shiki-dark":"#758575DD","--shiki-light":"#A0ADA0"}}," // Inclusione della libreria per la gestione della memoria condivisa")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#CB7676","--shiki-light":"#AB5959"}},"int"),i("span",{style:{"--shiki-dark":"#80A665","--shiki-light":"#59873A"}}," main"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},"()"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}}," {")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#CB7676","--shiki-light":"#AB5959"}},"  key_t"),i("span",{style:{"--shiki-dark":"#DBD7CAEE","--shiki-light":"#393A34"}}," chiave "),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},"="),i("span",{style:{"--shiki-dark":"#80A665","--shiki-light":"#59873A"}}," ftok"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},"("),i("span",{style:{"--shiki-dark":"#C98A7D77","--shiki-light":"#B5695977"}},'"'),i("span",{style:{"--shiki-dark":"#C98A7D","--shiki-light":"#B56959"}},"."),i("span",{style:{"--shiki-dark":"#C98A7D77","--shiki-light":"#B5695977"}},'"'),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},","),i("span",{style:{"--shiki-dark":"#C98A7D77","--shiki-light":"#B5695977"}},"'"),i("span",{style:{"--shiki-dark":"#C98A7D","--shiki-light":"#B56959"}},"A"),i("span",{style:{"--shiki-dark":"#C98A7D77","--shiki-light":"#B5695977"}},"'"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},");"),i("span",{style:{"--shiki-dark":"#758575DD","--shiki-light":"#A0ADA0"}}," // Generazione di una chiave unica per la memoria condivisa")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#758575DD","--shiki-light":"#A0ADA0"}},"  // Crea una memoria condivisa in cui contenere un valore intero")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#758575DD","--shiki-light":"#A0ADA0"}},"  // Il numero di bytes è pari a sizeof(int)")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#CB7676","--shiki-light":"#AB5959"}},"  int"),i("span",{style:{"--shiki-dark":"#DBD7CAEE","--shiki-light":"#393A34"}}," id_shm "),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},"="),i("span",{style:{"--shiki-dark":"#80A665","--shiki-light":"#59873A"}}," shmget"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},"("),i("span",{style:{"--shiki-dark":"#DBD7CAEE","--shiki-light":"#393A34"}},"chiave"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},","),i("span",{style:{"--shiki-dark":"#CB7676","--shiki-light":"#AB5959"}}," sizeof"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},"("),i("span",{style:{"--shiki-dark":"#CB7676","--shiki-light":"#AB5959"}},"int"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},"),"),i("span",{style:{"--shiki-dark":"#DBD7CAEE","--shiki-light":"#393A34"}}," IPC_CREAT"),i("span",{style:{"--shiki-dark":"#CB7676","--shiki-light":"#AB5959"}},"|0"),i("span",{style:{"--shiki-dark":"#4C9A91","--shiki-light":"#2F798A"}},"664"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},");"),i("span",{style:{"--shiki-dark":"#758575DD","--shiki-light":"#A0ADA0"}}," // Richiesta di un segmento di memoria condivisa")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#4D9375","--shiki-light":"#1E754F"}},"  if"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},"("),i("span",{style:{"--shiki-dark":"#DBD7CAEE","--shiki-light":"#393A34"}},"id_shm"),i("span",{style:{"--shiki-dark":"#CB7676","--shiki-light":"#AB5959"}},"<"),i("span",{style:{"--shiki-dark":"#4C9A91","--shiki-light":"#2F798A"}},"0"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},"){")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#80A665","--shiki-light":"#59873A"}},"    perror"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},"("),i("span",{style:{"--shiki-dark":"#C98A7D77","--shiki-light":"#B5695977"}},'"'),i("span",{style:{"--shiki-dark":"#C98A7D","--shiki-light":"#B56959"}},"errore shmget"),i("span",{style:{"--shiki-dark":"#C98A7D77","--shiki-light":"#B5695977"}},'"'),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},");"),i("span",{style:{"--shiki-dark":"#758575DD","--shiki-light":"#A0ADA0"}}," // Stampa dell'errore se la creazione fallisce")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#80A665","--shiki-light":"#59873A"}},"    exit"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},"("),i("span",{style:{"--shiki-dark":"#4C9A91","--shiki-light":"#2F798A"}},"1"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},");"),i("span",{style:{"--shiki-dark":"#758575DD","--shiki-light":"#A0ADA0"}}," // Terminazione del programma in caso di errore")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},"  }")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#758575DD","--shiki-light":"#A0ADA0"}},"  // Si accede alla variabile in memoria condivisa tramite puntatore")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#758575DD","--shiki-light":"#A0ADA0"}},'  // (in questo caso puntatore a intero "int *")')]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#CB7676","--shiki-light":"#AB5959"}},"  int"),i("span",{style:{"--shiki-dark":"#CB7676","--shiki-light":"#AB5959"}}," *"),i("span",{style:{"--shiki-dark":"#DBD7CAEE","--shiki-light":"#393A34"}}," p "),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},"="),i("span",{style:{"--shiki-dark":"#80A665","--shiki-light":"#59873A"}}," shmat"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},"("),i("span",{style:{"--shiki-dark":"#DBD7CAEE","--shiki-light":"#393A34"}},"id_shm"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},","),i("span",{style:{"--shiki-dark":"#4D9375","--shiki-light":"#1E754F"}}," NULL"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},","),i("span",{style:{"--shiki-dark":"#4C9A91","--shiki-light":"#2F798A"}}," 0"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},");"),i("span",{style:{"--shiki-dark":"#758575DD","--shiki-light":"#A0ADA0"}}," // Collegamento al segmento di memoria condivisa")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#4D9375","--shiki-light":"#1E754F"}},"  if"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},"("),i("span",{style:{"--shiki-dark":"#DBD7CAEE","--shiki-light":"#393A34"}},"p"),i("span",{style:{"--shiki-dark":"#CB7676","--shiki-light":"#AB5959"}},"=="),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},"("),i("span",{style:{"--shiki-dark":"#CB7676","--shiki-light":"#AB5959"}},"void"),i("span",{style:{"--shiki-dark":"#CB7676","--shiki-light":"#AB5959"}}," *"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},")"),i("span",{style:{"--shiki-dark":"#CB7676","--shiki-light":"#AB5959"}},"-"),i("span",{style:{"--shiki-dark":"#4C9A91","--shiki-light":"#2F798A"}},"1"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},")"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}}," {")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#80A665","--shiki-light":"#59873A"}},"    perror"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},"("),i("span",{style:{"--shiki-dark":"#C98A7D77","--shiki-light":"#B5695977"}},'"'),i("span",{style:{"--shiki-dark":"#C98A7D","--shiki-light":"#B56959"}},"errore shmat"),i("span",{style:{"--shiki-dark":"#C98A7D77","--shiki-light":"#B5695977"}},'"'),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},");"),i("span",{style:{"--shiki-dark":"#758575DD","--shiki-light":"#A0ADA0"}}," // Stampa dell'errore se il collegamento fallisce")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},"  }")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#CB7676","--shiki-light":"#AB5959"}},"  key_t"),i("span",{style:{"--shiki-dark":"#DBD7CAEE","--shiki-light":"#393A34"}}," pid "),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},"="),i("span",{style:{"--shiki-dark":"#80A665","--shiki-light":"#59873A"}}," fork"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},"();"),i("span",{style:{"--shiki-dark":"#758575DD","--shiki-light":"#A0ADA0"}}," // Creazione di un processo figlio")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#758575DD","--shiki-light":"#A0ADA0"}},"  // Sia il processo padre sia il figlio ottengono una copia")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#758575DD","--shiki-light":"#A0ADA0"}},'  // del puntatore a memoria condivisa "p"')]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#4D9375","--shiki-light":"#1E754F"}},"  if"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},"("),i("span",{style:{"--shiki-dark":"#DBD7CAEE","--shiki-light":"#393A34"}},"pid"),i("span",{style:{"--shiki-dark":"#CB7676","--shiki-light":"#AB5959"}},"=="),i("span",{style:{"--shiki-dark":"#4C9A91","--shiki-light":"#2F798A"}},"0"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},")"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}}," {")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#758575DD","--shiki-light":"#A0ADA0"}},"    // Processo figlio")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#80A665","--shiki-light":"#59873A"}},"    printf"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},"("),i("span",{style:{"--shiki-dark":"#C98A7D77","--shiki-light":"#B5695977"}},'"'),i("span",{style:{"--shiki-dark":"#C98A7D","--shiki-light":"#B56959"}},"FIGLIO: scrivo 123..."),i("span",{style:{"--shiki-dark":"#C99076","--shiki-light":"#A65E2B"}},"\\n"),i("span",{style:{"--shiki-dark":"#C98A7D77","--shiki-light":"#B5695977"}},'"'),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},");"),i("span",{style:{"--shiki-dark":"#758575DD","--shiki-light":"#A0ADA0"}}," // Stampa di un messaggio dal figlio")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#CB7676","--shiki-light":"#AB5959"}},"    *"),i("span",{style:{"--shiki-dark":"#DBD7CAEE","--shiki-light":"#393A34"}},"p "),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},"="),i("span",{style:{"--shiki-dark":"#4C9A91","--shiki-light":"#2F798A"}}," 123"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},";"),i("span",{style:{"--shiki-dark":"#758575DD","--shiki-light":"#A0ADA0"}}," // Scrittura del valore 123 nella memoria condivisa")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#80A665","--shiki-light":"#59873A"}},"    sleep"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},"("),i("span",{style:{"--shiki-dark":"#4C9A91","--shiki-light":"#2F798A"}},"3"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},");"),i("span",{style:{"--shiki-dark":"#758575DD","--shiki-light":"#A0ADA0"}}," // Attesa di 3 secondi")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#80A665","--shiki-light":"#59873A"}},"    exit"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},"("),i("span",{style:{"--shiki-dark":"#4C9A91","--shiki-light":"#2F798A"}},"0"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},");"),i("span",{style:{"--shiki-dark":"#758575DD","--shiki-light":"#A0ADA0"}}," // Terminazione del processo figlio")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},"  }"),i("span",{style:{"--shiki-dark":"#4D9375","--shiki-light":"#1E754F"}}," else"),i("span",{style:{"--shiki-dark":"#4D9375","--shiki-light":"#1E754F"}}," if"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},"("),i("span",{style:{"--shiki-dark":"#DBD7CAEE","--shiki-light":"#393A34"}},"pid"),i("span",{style:{"--shiki-dark":"#CB7676","--shiki-light":"#AB5959"}},">"),i("span",{style:{"--shiki-dark":"#4C9A91","--shiki-light":"#2F798A"}},"0"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},")"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}}," {")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#758575DD","--shiki-light":"#A0ADA0"}},"    // Processo padre")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#80A665","--shiki-light":"#59873A"}},"    wait"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},"("),i("span",{style:{"--shiki-dark":"#4D9375","--shiki-light":"#1E754F"}},"NULL"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},");"),i("span",{style:{"--shiki-dark":"#758575DD","--shiki-light":"#A0ADA0"}}," // Attesa della terminazione del processo figlio")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#80A665","--shiki-light":"#59873A"}},"    printf"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},"("),i("span",{style:{"--shiki-dark":"#C98A7D77","--shiki-light":"#B5695977"}},'"'),i("span",{style:{"--shiki-dark":"#C98A7D","--shiki-light":"#B56959"}},"PADRE: leggo il valore: "),i("span",{style:{"--shiki-dark":"#C99076","--shiki-light":"#A65E2B"}},"%d\\n"),i("span",{style:{"--shiki-dark":"#C98A7D77","--shiki-light":"#B5695977"}},'"'),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},","),i("span",{style:{"--shiki-dark":"#CB7676","--shiki-light":"#AB5959"}}," *"),i("span",{style:{"--shiki-dark":"#DBD7CAEE","--shiki-light":"#393A34"}},"p"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},");"),i("span",{style:{"--shiki-dark":"#758575DD","--shiki-light":"#A0ADA0"}}," // Lettura e stampa del valore dalla memoria condivisa")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#80A665","--shiki-light":"#59873A"}},"    shmctl"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},"("),i("span",{style:{"--shiki-dark":"#DBD7CAEE","--shiki-light":"#393A34"}},"id_shm"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},","),i("span",{style:{"--shiki-dark":"#DBD7CAEE","--shiki-light":"#393A34"}}," IPC_RMID"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},","),i("span",{style:{"--shiki-dark":"#4C9A91","--shiki-light":"#2F798A"}}," 0"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},");"),i("span",{style:{"--shiki-dark":"#758575DD","--shiki-light":"#A0ADA0"}}," // Rimozione del segmento di memoria condivisa")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}}," }")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},"}")])])],-1)])),_:1},16),e[164]||(e[164]=i("p",null,"Il codice fornito è un esempio di come due processi (padre e figlio) possono comunicare attraverso l’uso della memoria condivisa in C su sistemi Unix/Linux. Il programma dimostra la creazione di un segmento di memoria condivisa, la scrittura e la lettura di un valore intero da questo segmento da parte di processi distinti, e infine la rimozione del segmento di memoria condivisa.",-1)),e[165]||(e[165]=i("p",null,[s("All’inizio, il programma include le necessarie librerie per la gestione dei processi, la manipolazione della memoria condivisa e altre funzioni di sistema. Successivamente, viene generata una chiave unica per il segmento di memoria condivisa utilizzando "),i("code",null,"ftok"),s(", che trasforma un percorso di file e un byte in una chiave unica.")],-1)),e[166]||(e[166]=i("p",null,[s("Con questa chiave, il programma tenta di creare un segmento di memoria condivisa di dimensione sufficiente a contenere un intero ("),i("code",null,"sizeof(int)"),s(") tramite "),i("code",null,"shmget"),s(", specificando i permessi di accesso. Se la creazione fallisce, il programma termina stampando un messaggio di errore.")],-1)),e[167]||(e[167]=i("p",null,[s("laa riga di codice con "),i("code",null,"ftok"),s(" è utilizzata per generare una chiave unica ("),i("code",null,"key_t"),s(") che sarà poi impiegata per creare o accedere a un segmento di memoria condivisa.")],-1)),e[168]||(e[168]=i("p",null,[s("La funzione "),i("code",null,"ftok"),s(" è una funzione standard in ambienti Unix e Linux che serve a convertire un percorso di file e un carattere in una chiave unica. Questa chiave è necessaria per le operazioni successive sulla memoria condivisa, come la creazione o il collegamento a un segmento di memoria condivisa.")],-1)),e[169]||(e[169]=i("p",null,[s("Il primo argomento della funzione "),i("code",null,"ftok"),s(", in questo caso "),i("code",null,'"."'),s(", indica il percorso del file che verrà utilizzato come parte della base per la generazione della chiave. Utilizzare "),i("code",null,'"."'),s(" significa che si sta facendo riferimento alla directory corrente. Il secondo argomento, "),i("code",null,"'A'"),s(", è un carattere (o più tecnicamente, un intero convertito implicitamente in carattere) che contribuisce a rendere unica la chiave generata. La combinazione di percorso e carattere permette di ridurre la probabilità di collisioni con chiavi generate da altri processi che potrebbero utilizzare lo stesso meccanismo.")],-1)),e[170]||(e[170]=i("p",null,[s("La chiave generata da "),i("code",null,"ftok"),s(" viene poi assegnata alla variabile "),i("code",null,"chiave"),s(" di tipo "),i("code",null,"key_t"),s(", che è un tipo definito specificamente per contenere chiavi IPC (Inter-Process Communication). Questa chiave sarà utilizzata nelle chiamate successive per identificare univocamente il segmento di memoria condivisa tra diversi processi che intendono comunicare o condividere dati.")],-1)),e[171]||(e[171]=i("p",null,[s("Successivamente, il programma si collega al segmento di memoria condivisa ottenendo un puntatore a intero ("),i("code",null,"int *"),s(") attraverso "),i("code",null,"shmat"),s(". Se l’operazione fallisce, viene stampato un messaggio di errore.")],-1)),e[172]||(e[172]=i("p",null,[s("Il programma poi crea un processo figlio tramite "),i("code",null,"fork()"),s(". Entrambi i processi, padre e figlio, hanno accesso al puntatore alla memoria condivisa.")],-1)),e[173]||(e[173]=i("p",null,[s("Nel processo figlio, viene scritto il valore "),i("code",null,"123"),s(" nel segmento di memoria condivisa e poi il processo si mette in attesa per 3 secondi prima di terminare. Questo ritardo permette al processo padre di leggere il valore dopo che il figlio ha terminato.")],-1)),e[174]||(e[174]=i("p",null,[s("Nel processo padre, dopo aver atteso la terminazione del processo figlio con "),i("code",null,"wait(NULL)"),s(", legge il valore dalla memoria condivisa e lo stampa. Infine, il segmento di memoria condivisa viene rimosso con "),i("code",null,"shmctl"),s(" per evitare perdite di memoria.")],-1)),e[175]||(e[175]=i("p",null,"Questo esempio illustra un modo efficace per la comunicazione inter-processo (IPC) attraverso la memoria condivisa, permettendo a processi distinti di accedere e modificare dati in un’area di memoria comune.",-1)),e[176]||(e[176]=i("h2",null,"Shm Tool.c",-1)),e[177]||(e[177]=i("p",null,[i("a",{href:"helloShctool.c",target:"_blank"},"vedi Esempio di programma in C"),s(" per la manipolazione di segmenti di memoria condivisa in un sistema operativo Unix/Linux. La memoria condivisa è un metodo efficace per permettere la comunicazione tra processi (IPC, Inter-Process Communication), consentendo loro di accedere a una stessa area di memoria.")],-1)),e[178]||(e[178]=i("p",null,[s("All’inizio del codice, vengono incluse diverse librerie standard necessarie per il funzionamento del programma. Queste includono funzioni per l’input/output ("),i("code",null,"stdio.h"),s("), la manipolazione delle stringhe ("),i("code",null,"string.h"),s("), definizioni di tipi di dati per i system call ("),i("code",null,"sys/types.h"),s("), e funzioni specifiche per la gestione della memoria condivisa ("),i("code",null,"sys/ipc.h"),s(" e "),i("code",null,"sys/shm.h"),s("). Inoltre, viene inclusa la libreria "),i("code",null,"ctype.h"),s(" per la manipolazione dei caratteri.")],-1)),e[179]||(e[179]=i("p",null,[s("Il programma definisce una dimensione fissa ("),i("code",null,"SEGSIZE"),s(") per il segmento di memoria condivisa che intende utilizzare. Successivamente, dichiara una serie di funzioni per le diverse operazioni che possono essere eseguite sul segmento di memoria condivisa: scrittura ("),i("code",null,"writeshm"),s("), lettura ("),i("code",null,"readshm"),s("), rimozione ("),i("code",null,"removeshm"),s("), e cambio dei permessi ("),i("code",null,"changemode"),s("). Viene anche definita una funzione "),i("code",null,"usage"),s(" per mostrare come utilizzare il programma.")],-1)),e[180]||(e[180]=i("p",null,[s("Nella funzione "),i("code",null,"main"),s(", il programma inizia controllando gli argomenti passati dall’utente. Se non vengono forniti argomenti, viene chiamata la funzione "),i("code",null,"usage"),s(" per mostrare le istruzioni. Il programma procede poi generando una chiave unica per il segmento di memoria condivisa e tenta di creare o accedere a un segmento di memoria condivisa esistente. In caso di successo, il programma si collega al segmento di memoria condivisa e, in base all’argomento fornito dall’utente ("),i("code",null,"w"),s(", "),i("code",null,"r"),s(", "),i("code",null,"d"),s(", "),i("code",null,"m"),s("), esegue l’operazione richiesta (scrittura, lettura, rimozione, cambio dei permessi).")],-1)),e[181]||(e[181]=i("p",null,[s("Le funzioni "),i("code",null,"writeshm"),s(", "),i("code",null,"readshm"),s(", "),i("code",null,"removeshm"),s(", e "),i("code",null,"changemode"),s(" implementano le operazioni specifiche sul segmento di memoria condivisa. "),i("code",null,"writeshm"),s(" copia un testo nel segmento, "),i("code",null,"readshm"),s(" stampa il contenuto del segmento, "),i("code",null,"removeshm"),s(" marca il segmento per la rimozione, e "),i("code",null,"changemode"),s(" cambia i permessi di accesso al segmento.")],-1)),e[182]||(e[182]=i("p",null,"Questo programma dimostra un utilizzo pratico della memoria condivisa per la comunicazione tra processi, mostrando come creare, accedere, modificare e rimuovere segmenti di memoria condivisa, oltre a gestirne i permessi di accesso.",-1)),e[183]||(e[183]=i("h2",null,"MEMORIA Randomizzazione dello spazio degli indirizzi ?",-1)),e[184]||(e[184]=i("p",null,"La randomizzazione dello spazio degli indirizzi (Address Space Layout Randomization, ASLR) è una tecnica di sicurezza utilizzata nei sistemi operativi per prevenire attacchi che sfruttano la corruzione della memoria, come i buffer overflow. ASLR rende difficile per un attaccante predire dove si trovano specifiche parti del codice o dei dati in memoria, randomizzando le posizioni di heap, stack, e librerie a ogni esecuzione del programma.",-1)),e[185]||(e[185]=i("p",null,[s("Nel contesto del codice "),i("a",{href:"helloMem.c%22",target:"_blank"},[i("code",null,"helloMem.c")]),s(", l’effetto dell’ASLR può essere osservato attraverso l’indirizzo di memoria allocato dinamicamente per "),i("code",null,"p"),s(" che viene stampato ogni volta che il programma viene eseguito.")],-1)),e[186]||(e[186]=i("p",null,"Se l’ASLR del S.O. è attivo, l’indirizzo di memoria stampato cambierà ad ogni esecuzione del programma, riflettendo la randomizzazione dello spazio degli indirizzi. Questo comportamento contrasta con quello che si avrebbe se l’ASLR fosse disattivato, dove gli indirizzi di memoria tenderebbero a rimanere consistenti tra le esecuzioni.",-1)),e[187]||(e[187]=i("p",null,[s("Per evidenziare il problema con "),i("code",null,"helloMem.c"),s(" relativo all’ASLR, si può procedere nel seguente modo:")],-1)),e[188]||(e[188]=i("ol",null,[i("li",null,[i("p",null,[i("strong",null,"Esecuzione Ripetuta"),s(": Eseguire "),i("code",null,"helloMem.c"),s(" più volte e osservare l’indirizzo di memoria stampato per "),i("code",null,"p"),s(". Se l’indirizzo cambia significativamente tra le esecuzioni, ciò indica che l’ASLR è attivo.")])]),i("li",null,[i("p",null,[i("strong",null,"Confronto con ASLR Disattivato"),s(": Per un confronto diretto, si potrebbe temporaneamente disattivare l’ASLR (se il sistema lo permette e si è consapevoli dei rischi per la sicurezza) e poi eseguire di nuovo il programma più volte. Se gli indirizzi stampati rimangono consistenti tra le esecuzioni con l’ASLR disattivato, ciò conferma l’effetto dell’ASLR sul programma.")])])],-1)),e[189]||(e[189]=i("p",null,"Per disattivare temporaneamente l’ASLR su sistemi Linux, si può usare il comando (come root o con sudo):",-1)),n(l,t({},{ranges:[]}),{default:a(()=>e[9]||(e[9]=[i("pre",{class:"shiki shiki-themes vitesse-dark vitesse-light slidev-code",style:{"--shiki-dark":"#dbd7caee","--shiki-light":"#393a34","--shiki-dark-bg":"#121212","--shiki-light-bg":"#ffffff"}},[i("code",{class:"language-bash"},[i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#B8A965","--shiki-light":"#998418"}},"echo"),i("span",{style:{"--shiki-dark":"#4C9A91","--shiki-light":"#2F798A"}}," 0"),i("span",{style:{"--shiki-dark":"#CB7676","--shiki-light":"#AB5959"}}," >"),i("span",{style:{"--shiki-dark":"#C98A7D","--shiki-light":"#B56959"}}," /proc/sys/kernel/randomize_va_space")])])],-1)])),_:1},16),e[190]||(e[190]=s(" E per riattivarlo: ")),n(l,t({},{ranges:[]}),{default:a(()=>e[10]||(e[10]=[i("pre",{class:"shiki shiki-themes vitesse-dark vitesse-light slidev-code",style:{"--shiki-dark":"#dbd7caee","--shiki-light":"#393a34","--shiki-dark-bg":"#121212","--shiki-light-bg":"#ffffff"}},[i("code",{class:"language-bash"},[i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#B8A965","--shiki-light":"#998418"}},"echo"),i("span",{style:{"--shiki-dark":"#4C9A91","--shiki-light":"#2F798A"}}," 2"),i("span",{style:{"--shiki-dark":"#CB7676","--shiki-light":"#AB5959"}}," >"),i("span",{style:{"--shiki-dark":"#C98A7D","--shiki-light":"#B56959"}}," /proc/sys/kernel/randomize_va_space")])])],-1)])),_:1},16),e[191]||(e[191]=s(" **Nota**: Modificare le impostazioni dell'ASLR può avere implicazioni sulla sicurezza del sistema. È consigliabile farlo solo in un ambiente controllato e per scopi di test. "))]),_:1},16)}}};export{P as default};
